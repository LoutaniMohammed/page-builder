/*! KEditor v3.0.0 | Copyright (c) 2016-present Kademi (http://kademi.co) */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("jquery"),require("ckeditor")):"function"==typeof define&&define.amd?define(["jquery","ckeditor"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).jQuery,t.CKEDITOR)}(this,function(t,e){"use strict";var n,o=Object.defineProperty,i=(t,e,n)=>((t,e,n)=>e in t?o(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n)(t,"symbol"!=typeof e?e+"":e,n);const a="keditor-ui",l="keditor-ui-dragging",s="keditor-ui-hidden",c="keditor-ui-cutting",r="ui-resizable-resizer",d="ui-sortable",p="ui-sortable",f="keditor-wrapper",u="keditor-btn",m="keditor-btn-default",h="active",v="opened",g="showed",b="selected",C="duplicated",y="initialized",k="initializing",w="previewing",S="showed-keditor-toolbar",D="showed-keditor-sidebar",A="opened-modal",T="not-matched",x="has-footer",E="copying",F="copying-component",B="copying-container",I="copying-sub-container",j="btn-add-content",L="btn-paste-content",R="keditor-sidebar",W="keditor-sidebar-header",O="keditor-sidebar-body",z="keditor-sidebar-title",M="keditor-sidebar-closer",P="keditor-topbar",U="keditor-topbar-left",K="keditor-topbar-center",q="keditor-topbar-right",V="keditor-topbar-btn",H="keditor-topbar-title",G="keditor-modal",Y="keditor-modal-component",N="keditor-modal-container",_="keditor-modal-header",Q="keditor-modal-title",J="keditor-modal-body",X="keditor-modal-footer",Z="keditor-modal-close",tt="keditor-snippet",et="keditor-snippet-inner",nt="keditor-snippet-title",ot="keditor-snippet-preview",it="keditor-snippet-container",at="keditor-snippet-component",lt="keditor-snippets",st="keditor-snippets-filter",ct="keditor-snippets-filter-component",rt="keditor-snippets-filter-container",dt="keditor-snippets-filter-label",pt="keditor-snippets-search",ft="keditor-snippets-filter-wrapper",ut="keditor-snippets-wrapper",mt="keditor-toolbar",ht="keditor-toolbar-bottom",vt="keditor-toolbar-content-area",gt="keditor-toolbar-container",$t="keditor-toolbar-bottom-container",bt="keditor-toolbar-container-content",Ct="keditor-toolbar-sub-container",yt="keditor-toolbar-bottom-sub-container",kt="keditor-toolbar-sub-container-content",wt="keditor-toolbar-component",St="keditor-toolbar-bottom-component",Dt="keditor-setting-form",At="keditor-setting-form-loading",Tt="keditor-content-area",xt="keditor-content-area-inner",Et="keditor-content-areas-wrapper",Ft="keditor-iframe",Bt="keditor-iframe-body",It="keditor-iframe-wrapper",jt="keditor-iframe-width-switcher",Lt="keditor-iframe-cover-wrapper",Rt="keditor-iframe-cover-wrapper-fake",Wt="keditor-iframe-cover",Ot="hidden-cover",zt="keditor-component",Mt="btn-component-move",Pt="btn-component-move-up",Ut="btn-component-move-down",Kt="btn-component-setting",qt="btn-component-duplicate",Vt="btn-component-copy",Ht="btn-component-cut",Gt="btn-component-delete",Yt="keditor-component-content",Nt="existing-component",_t="keditor-container",Qt="btn-container-move",Jt="btn-container-move-up",Xt="btn-container-move-down",Zt="btn-container-duplicate",te="btn-container-copy",ee="btn-container-cut",ne="btn-container-delete",oe="btn-container-setting",ie="keditor-container-inner",ae="keditor-container-content",le="keditor-container-content-inner",se="keditor-sub-container",ce="keditor-sub-container-content",re="keditor-preview-area",de={title:"Editing with KEditor",containerForQuickAddComponent:'\n        <div class="row">\n            <div class="col-sm-12" data-type="container-content">\n            </div>\n        </div>\n    ',extraSettings:null,extraTopbarItems:null,locale:{viewOnMobile:"View on mobile",viewOnTablet:"View on tablet",viewOnLaptop:"View on laptop",viewOnDesktop:"View on desktop",previewOn:"Preview ON",previewOff:"Preview OFF",fullscreenOn:"Fullscreen ON",fullscreenOff:"Fullscreen Off",save:"Save",addContent:"Add content",addContentBelow:"Add content below",pasteContent:"Paste content",pasteContentBelow:"Paste content below",move:"Drag",moveUp:"Move up",moveDown:"Move down",setting:"Setting",copy:"Copy",cut:"Cut",delete:"Delete",snippetCategoryLabel:"Category",snippetCategoryAll:"All",snippetCategorySearch:"Type to search...",columnResizeTitle:"Drag to resize",containerSetting:"Container Settings",confirmDeleteContainerText:"Are you sure that you want to delete this container? This action can not be undone!",confirmDeleteComponentText:"Are you sure that you want to delete this component? This action can not be undone!"},widthMobile:420,widthTablet:820,widthLaptop:1050,minWidthDesktop:1250,defaultComponentType:"blank",snippetsUrl:"snippets/snippets.html",snippetsCategoriesSeparator:";",contentStyles:[],contentAreasSelector:null,contentAreasWrapper:`<div class="${a} ${Et}"></div>`,containerSettingEnabled:!1,containerSettingInitFunction:null,containerSettingShowFunction:null,containerSettingHideFunction:null,bootstrap:{columnResizeEnabled:!0,deviceClass:{MOBILE:"xs",TABLET:"sm",LAPTOP:"md",DESKTOP:"lg"},gridSystem:[{width:8.33333333,col:1},{width:16.66666667,col:2},{width:25,col:3},{width:33.33333333,col:4},{width:41.66666667,col:5},{width:50,col:6},{width:58.33333333,col:7},{width:66.66666667,col:8},{width:75,col:9},{width:83.33333333,col:10},{width:91.66666667,col:11},{width:100,col:12},{width:1e4,col:1e4}]},clickComponentToShowSetting:!1,onReady:function(){},onSave:function(t){},onSnippetsLoaded:function(t){},onSnippetsError:function(t){},onInitIframe:function(t,e,n){},onContentChanged:function(t,e){},onBeforeInitContentArea:function(t){},onInitContentArea:function(t){return t.children(`.${xt}`).children()},onBeforeInitContainer:function(t,e){},onInitContainer:function(t,e){},onBeforeContainerDeleted:function(t,e,n){},onContainerDeleted:function(t,e,n){},onContainerChanged:function(t,e,n){},onContainerDuplicated:function(t,e,n,o){},onContainerSelected:function(t,e,n){},onContainerSnippetAdded:function(t,e,n,o){},onComponentReady:function(t){},onBeforeInitComponent:function(t,e){},onInitComponent:function(t,e){},onBeforeComponentDeleted:function(t,e,n){},onComponentDeleted:function(t,e,n){},onComponentChanged:function(t,e,n){},onComponentDuplicated:function(t,e,n,o){},onComponentSelected:function(t,e,n){},onComponentSnippetAdded:function(t,e,n,o){},onBeforeDynamicContentLoad:function(t,e,n){},onDynamicContentLoaded:function(t,e,n){},onDynamicContentError:function(t,e,n){}},pe=(...t)=>{console&&"function"==typeof console.log&&window.KEDITOR_DEBUG},fe=t=>{throw new Error(`[ KEditor ] ${t}`)};function ue(){return`keditor-ui-${(new Date).getTime()}${Math.round(9876543210*Math.random())}`}function me(t,e,n){let o=n?[]:{};return e||(e=[]),$.each(t.get(0).attributes,function(t,i){0===i.name.indexOf("data-")&&-1===$.inArray(i.name,e)&&(n?o.push(`${i.name}="${i.value}"`):o[i.name]=i.value)}),o}function he(t,e){e||(t.wrap(`<div class="${Rt}"></div>`),e=t.parent()),e.addClass(`${Lt}`);let n=$(`<div class="${Wt}"></div>`);e.prepend(n),e.on("mouseleave",function(){e.removeClass(`${Ot}`)}),n.on("dblclick",function(t){t.preventDefault(),e.addClass(`${Ot}`)})}function ve(t,e,n,o,i,l){let s=this,c=s.options,r=ue(),d=`\n        <section\n            class="${a} ${tt} ${"container"===t?it:at}"\n            data-snippet="#${r}"\n            data-type="${t}"\n            data-keditor-title="${e}"\n            data-keditor-categories="${o}"\n        >\n            <span class="${et}">\n                <span class="${ot}" style="background-image: url('${n}')"></span>\n                <span class="${nt}" title="${e}">${e}</span>\n            </span>\n        </section>\n    `,p=`<script id="${r}" type="text/html" ${l.join(" ")}>${i}<\/script>`;return o=o.split(c.snippetsCategoriesSeparator),"container"===t?s.categoryContainer=s.categoryContainer.concat(o):-1!==t.indexOf("component")&&(s.categoryComponent=s.categoryComponent.concat(o)),[d,p]}function ge(){let t=this,e=t.options,n=t.modal,o=`<option value="" selected="selected">${e.locale.snippetCategoryAll}</option>`;$.each(t.categoryComponent,function(t,e){o+=`<option value="${e}" class="${ct}">${e}</option>`}),$.each(t.categoryContainer,function(e,n){let i=-1!==$.inArray(n,t.categoryComponent);o+=`<option value="${n}" class="${rt} ${i?C:""}">${n}</option>`});let i=n.find(`.${ft}`);return 0===i.length&&(i=$(`<div class="${a} ${ft}"></div>`),n.find(`.${Q}`).replaceWith(i)),[o,i]}function $e(t){let e=[];for(let n=0;n<t.length;n++){let o=t[n]||"";""!==o&&-1===$.inArray(o,e)&&e.push(o)}return e.sort()}function be(t,e,n,o,i,a){let l=this,[s,c]=ve.call(l,t,e,n,o,i,a);l.categoryContainer=$e(l.categoryContainer),l.categoryComponent=$e(l.categoryComponent),l.modal.find(`.${lt}`).append(s),l.modal.find(`.${J}`).append(c);let[r,d]=ge.call(l);d.find(`.${st}`).html(r).trigger("change")}function Ce(t){let e=this,n="",o="";$(t).filter("div").each(function(){let t=$(this),i=t.html().trim(),a=t.attr("data-preview"),l=t.attr("data-type"),s=t.attr("data-keditor-title"),c=t.attr("data-keditor-categories")||"",r=e.getDataAttributes(t,["data-preview","data-type","data-keditor-title","data-keditor-categories"],!0),[d,p]=ve.call(e,l,s,a,c,i,r);o+=d,n+=p}),e.categoryContainer=$e(e.categoryContainer),e.categoryComponent=$e(e.categoryComponent),e.modal.find(`.${lt}`).html(o),e.modal.find(`.${J}`).append(n)}function ye(){let t=this,e=t.options,[n,o]=ge.call(t);o.html(`\n        <span class="${a} ${dt}">${e.locale.snippetCategoryLabel}:</span>\n        <select class="${a} ${st}">\n            ${n}\n        </select>\n        <input type="text" class="${a} ${pt}" value="" placeholder="${e.locale.snippetCategorySearch}" />\n    `);let i,l=o.find(`.${pt}`),s=o.find(`.${st}`),c=function(){let n=(s.val()||"").toLowerCase(),o=(l.val()||"").toLowerCase(),i=t.modal.find(`.${tt}`);i.filter(`.${b}`).removeClass(b),n||o?i.each(function(){let t=$(this),i=t.attr("data-keditor-categories").toLowerCase(),a=i.split(e.snippetsCategoriesSeparator),l=0;if(n&&-1===$.inArray(n,a)&&l++,o){-1===t.attr("data-keditor-title").toLowerCase().indexOf(o)&&-1===i.indexOf(o)&&l++}t[0===l?"removeClass":"addClass"](T)}):i.removeClass(T)};s.on("change",function(){c()}),l.on("keydown",function(){clearTimeout(i),i=setTimeout(c,200)})}function ke(t){let e="webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend";t.off(e).on(e,()=>{t.hasClass(g)||(t.css("display","none"),$(document.body).removeClass(A))}),t.removeClass(g)}function we(){let t=this,e=t.modal;t.modalTarget=null,t.modalTargetAction=null,e.find(`.${b}`).removeClass(b),e.find(`.${T}`).removeClass(T),e.find(`.${st}`).val(""),e.removeClass(Y),e.removeClass(N),ke.call(t,e)}function Se(){let t=this.modal;t.on({click:function(e){e.preventDefault();let n=$(this);n.hasClass(b)?n.removeClass(b):(t.find(`.${b}`).removeClass(b),n.addClass(b))},mouseover:function(){$(this).addClass(b)},mouseout:function(){$(this).removeClass(b)}},`.${tt}`)}const De="append",Ae="after",Te=1e3,xe=2e3,Ee=2100,Fe=2200,Be=3e3,Ie=3100,je=3200,Le=4e3,Re=4100,We='<i class="fa fa-plus"></i>',Oe='<i class="fa fa-paste"></i>',ze='<i class="fa fa-arrows-v"></i>',Me='<i class="fa fa-arrows"></i>',Pe='<i class="fa fa-chevron-up"></i>',Ue='<i class="fa fa-chevron-up"></i>',Ke='<i class="fa fa-chevron-down"></i>',qe='<i class="fa fa-chevron-down"></i>',Ve='<i class="fa fa-cog"></i>',He='<i class="fa fa-cog"></i>',Ge='<i class="fa fa-files-o"></i>',Ye='<i class="fa fa-files-o"></i>',Ne='<i class="fa fa-cut"></i>',_e='<i class="fa fa-cut"></i>',Qe='<i class="fa fa-trash-o"></i>',Je='<i class="fa fa-trash-o"></i>',Xe='<i class="fa fa-fw fa-mobile"></i>',Ze='<i class="fa fa-fw fa-tablet"></i>',tn='<i class="fa fa-fw fa-laptop"></i>',en='<i class="fa fa-fw fa-desktop"></i>',nn='<i class="fa fa-fw fa-eye"></i>',on='<i class="fa fa-fw fa-eye-slash"></i>',an='<i class="fa fa-fw fa-compress"></i>',ln='<i class="fa fa-fw fa-expand"></i>',sn='<i class="fa fa-fw fa-save"></i>';function cn(t,e){let n=this.options,o="";switch(t){case xe:case Be:return e&&(o=`<a href="javascript:void(0);" class="${a} ${oe}" title="${n.locale.setting}">${Ve}</a>`),`\n                <div class="${a} ${mt} ${gt} ${t===Be?Ct:""}">\n                    <a href="javascript:void(0);" class="${a} ${Qt}" title="${n.locale.move}">${ze}</a>\n                    <a href="javascript:void(0);" class="${a} ${Jt}" title="${n.locale.moveUp}">${Pe}</a>\n                    <a href="javascript:void(0);" class="${a} ${Xt}" title="${n.locale.moveDown}">${Ke}</a>\n                    ${o}\n                    <a href="javascript:void(0);" class="${a} ${ee}" title="${n.locale.cut}">${Ne}</a>\n                    <a href="javascript:void(0);" class="${a} ${te}" title="${n.locale.copy}">${Ge}</a>\n                    <a href="javascript:void(0);" class="${a} ${ne}" title="${n.locale.delete}">${Qe}</a>\n                </div>\n            `;case Le:return e&&(o=`<a href="javascript:void(0);" class="${a} ${Kt}" title="${n.locale.setting}">${He}</a>`),`\n                <div class="${a} ${mt} ${wt}">\n                    <a href="javascript:void(0);" class="${a} ${Mt}" title="${n.locale.move}">${Me}</a>\n                    <a href="javascript:void(0);" class="${a} ${Pt}" title="${n.locale.moveUp}">${Ue}</a>\n                    <a href="javascript:void(0);" class="${a} ${Ut}" title="${n.locale.moveDown}">${qe}</a>\n                    ${o}\n                    <a href="javascript:void(0);" class="${a} ${Ht}" title="${n.locale.cut}">${_e}</a>\n                    <a href="javascript:void(0);" class="${a} ${Vt}" title="${n.locale.copy}">${Ye}</a>\n                    <a href="javascript:void(0);" class="${a} ${Gt}" title="${n.locale.delete}">${Je}</a>\n                </div>\n            `;case Te:return`\n                <div class="${a} ${vt}">\n                    <a href="javascript:void(0)" class="${a} ${u} ${m} ${j}" title="${n.locale.addContent}">${We}</a>\n                    <a href="javascript:void(0)" class="${a} ${u} ${m} ${L}" title="${n.locale.pasteContent}">${Oe}</a>\n                </div>\n            `;case Ee:case je:return`\n                <div class="${a} ${bt} ${t===je?kt:""}">\n                    <a href="javascript:void(0)" class="${a} ${u} ${m} ${j}" title="${n.locale.addContent}">${We}</a>\n                    <a href="javascript:void(0)" class="${a} ${u} ${m} ${L}" title="${n.locale.pasteContent}">${Oe}</a>\n                </div>\n            `;case Fe:case Ie:return`\n                <div class="${a} ${mt} ${ht} ${$t} ${t===Ie?yt:""}">\n                    <a href="javascript:void(0)" class="${a} ${j}" title="${n.locale.addContentBelow}">${We}</a>\n                    <a href="javascript:void(0)" class="${a} ${L}" title="${n.locale.pasteContentBelow}">${Oe}</a>\n                </div>\n            `;case Re:return`\n                <div class="${a} ${mt} ${ht} ${St}">\n                    <a href="javascript:void(0)" class="${a} ${j}" title="${n.locale.addContentBelow}">${We}</a>\n                    <a href="javascript:void(0)" class="${a} ${L}" title="${n.locale.pasteContentBelow}">${Oe}</a>\n                </div>\n            `}}function rn(t){let e=this,n=e.options,o=(t.attr("data-type")||"").replace("component-","");return o&&o in KEditor.components||("string"==typeof n.defaultComponentType?o=n.defaultComponentType:"function"==typeof n.defaultComponentType&&(o=n.defaultComponentType.call(e,t)),o||e.error("Component type is undefined!")),o}function dn(t){let e=this,n=e.options,o=t.closest('[data-type^="component"]'),i=t.closest(`.${Tt}`);!t.attr("id")&&t.attr("id",ue()),"function"==typeof n.onBeforeDynamicContentLoad&&n.onBeforeDynamicContentLoad.call(e,t,o,i);let a=t.attr("data-dynamic-href"),l=me(o,["data-type","data-dynamic-href"],!1);return l=$.param(l),$.ajax({url:a,data:l,type:"GET",dataType:"HTML",success:function(o,a,l){t.html(o),"function"==typeof n.onDynamicContentLoaded&&n.onDynamicContentLoaded.call(e,t,l,i)},error:function(o,a,l){"function"==typeof n.onDynamicContentError&&n.onDynamicContentError.call(e,t,o,i)}})}function pn(t){let e=this,n=e.options,o=t.closest(`.${_t}`),i=o.closest(`.${Tt}`);if(!t.hasClass(y)||!t.hasClass(k)){t.addClass(k),t.attr("id",ue()),"function"==typeof n.onBeforeInitComponent&&n.onBeforeInitComponent.call(e,t,i),t.children(`.${Yt}`).attr("id",ue());let a=rn.call(e,t),l=KEditor.components[a];t.append(cn.call(e,Le,l.settingEnabled)),t.append(cn.call(e,Re)),t.find("[data-dynamic-href]").each(function(){let t=$(this);dn.call(e,t)}),"function"==typeof l.init&&l.init.call(l,i,o,t,e),"function"==typeof n.onInitComponent&&n.onInitComponent.call(e,t,i),t.addClass(y),t.removeClass(k)}}function fn(t,e){if(t.is(`.${bt}`))return;let n,o=me.call(this,t,null,!0);t.wrap(`<section class="${a} ${zt}" data-type="${t.attr("data-type")}" ${o.join(" ")}></section>`),t.wrap(`<section class="${a} ${Yt}"></section>`),n=t.parent().parent(),t.removeAttr("data-type"),e&&n.addClass(`${Nt}`),pn.call(this,n)}function un(t){t.css("display","block"),$(document.body).addClass(A),setTimeout(()=>{t.addClass(g)},0)}function mn(t,e,n,o){let i=this,a=i.modal;i.modalTarget=t,i.modalTargetAction=e,n&&a.addClass(Y),o&&a.addClass(N),a.css("display","block"),un.call(i,a)}function hn(t,e,n,o){let i=this,a=i.options,s=i.contentAreasWrapper;n.addClass(ae),o&&n.addClass(ce),n.attr("id",ue());let c=$(`<div class="${le}"></div>`);c.html(n.html()),n.html(c);let r=$(cn.call(i,o?je:Ee,a.containerSettingEnabled));r.appendTo(n),r.children(`.${j}`).on("click",function(t){t.preventDefault(),mn.call(i,c,De,!0,!o)}),c.sortable({handle:`.${Mt}, .${Qt}`,helper:"clone",items:`> .${zt}`,connectWith:`.${le}`,tolerance:"pointer",receive:function(e,n){let o,c=n.helper,r=n.item;c&&c.remove(),o=r.closest(`.${_t}`),o.hasClass(S)||(s.find(`.${_t}.${S}`).removeClass(S),o.addClass(S)),"function"==typeof a.onContainerChanged&&a.onContainerChanged.call(i,e,o,t),"function"==typeof a.onContentChanged&&a.onContentChanged.call(i,e,t),r.removeClass(l)},start:function(t,e){e.item.addClass(l),e.item.addClass(S)},stop:function(t,e){e.helper&&e.helper.remove(),e.item.removeClass(l)}}),c.children().each(function(){let t=$(this);t.find('[data-type="container-content"]').length>0?bn.call(i,t):fn.call(i,t,!0)})}const vn=(t,e)=>{let n,o;for(let i=0;i<t.length;++i){let a=Math.abs(t[i].width-e);if(o&&!(a<o))return t[n].col;n=i,o=a}return null};function gn(t){let e=this,n=e.options,o=t.find('.row > [class*="col-"]');o.length>0&&o.resizable({handles:"resizer, none",create:function(){$(this).find(`.${r}`).attr("title",n.locale.columnResizeTitle)},resize:function(t,o){let i=$(this),a=n.bootstrap.deviceClass[e.deviceMode],l=`col-${a}-1 col-${a}-2 col-${a}-3 col-${a}-4 col-${a}-5 col-${a}-6 col-${a}-7 col-${a}-8 col-${a}-9 col-${a}-10 col-${a}-11 col-${a}-12`,s=i.parent(),c=vn(n.bootstrap.gridSystem,100*o.size.width/s.innerWidth());i.removeClass(l).addClass(`col-${a}-${c}`),i.css("width",""),i.css("height","")}})}function $n(t){let e=this,n=e.options,o=t.closest('[data-type="container-content"]').length>0,i=t.closest(`.${Tt}`);if(!t.hasClass(y)||!t.hasClass(k)){t.addClass(k),"function"==typeof n.onBeforeInitContainer&&n.onBeforeInitContainer.call(e,t,i),o&&t.addClass(se),t.append(cn.call(e,o?Be:xe,n.containerSettingEnabled)+cn.call(e,o?Ie:Fe)),t.attr("id",ue()),t.find('[data-type="container-content"]').each(function(){let n=$(this);!o&&n.parents('[data-type="container-content"]').length>0||hn.call(e,i,t,n,o)}),n.bootstrap.columnResizeEnabled&&gn.call(e,t),"function"==typeof n.onInitContainer&&n.onInitContainer.call(e,t,i),t.addClass(y),t.removeClass(k)}}function bn(t){let e;t.wrap(`<section class="${a} ${_t}"></section>`),t.wrap(`<section class="${a} ${ie}"></section>`),e=t.parent().parent(),$n.call(this,e)}function Cn(t,e,n,o){let i,a,l=this,s=l.modal,c=l.options,r=n.closest(`.${Tt}`),d=e.attr("data-type"),p=s.find(e.attr("data-snippet")),f=p.html(),u=s.hasClass(Y),m=s.hasClass(N),h=!1,v=!1,g=!1;if("container"===d?h=!0:(u&&!m&&(v=!0),u&&m&&(n.is(`.${le}`)?v=!0:o===De?g=!0:v=!0)),l.contentAreasWrapper.find(`.${S}`).removeClass(S),h&&(i=$(f),n[o](i),"function"==typeof c.onContainerSnippetAdded&&c.onContainerSnippetAdded.call(l,t,i,e,r),"function"==typeof c.onContentChanged&&c.onContentChanged.call(l,t,r),bn.call(l,i),i.trigger("click")),v||g){let t=me.call(l,p,null,!0);a=$(`\n            <div data-type="${d}" ${t.join(" ")}>\n                ${f}\n            </div>\n        `)}if(v){n[o](a),n.closest(`.${_t}`).addClass(S),"function"==typeof c.onComponentSnippetAdded&&c.onComponentSnippetAdded.call(l,t,a,e,r),"function"==typeof c.onContentChanged&&c.onContentChanged.call(l,t,r),fn.call(l,a),a.trigger("click")}g&&(i=$(c.containerForQuickAddComponent),i.find('[data-type="container-content"]').eq(0).html(a),n[o](i),"function"==typeof c.onComponentSnippetAdded&&c.onComponentSnippetAdded.call(l,t,a,e,r),"function"==typeof c.onContentChanged&&c.onContentChanged.call(l,t,r),bn.call(l,i),a.trigger("click"))}function yn(t,e=!0,n=!1){let o=this,i=$(`\n        <div class="${a} ${G} ${e?x:""}" id="${t}">\n            <div class="${_}">\n                <button type="button" class="${Z}">&times;</button>\n                <h4 class="${Q}"></h4>\n            </div>\n            <div class="${J}"></div>\n            ${e?`<div class="${X}"></div>`:""}\n        </div>\n    `);return n||i.on("click",`.${Z}`,function(t){t.preventDefault(),ke.call(o,i)}),i.appendTo(o.wrapper)}function kn(){let t=this,e=t.options,n=t.modal=yn.call(t,ue(),!1,!0);"string"==typeof e.snippetsUrl&&e.snippetsUrl.length>0?(n.find(`.${J}`).append(`\n            <div class="${ut}">\n                <div class="${lt}"></div>\n            </div>\n        `),$.ajax({type:"get",dataType:"html",url:e.snippetsUrl,success:function(n){"function"==typeof e.onSnippetsLoaded&&(n=e.onSnippetsLoaded.call(t,n)||n),Ce.call(t,n),ye.call(t)},error:function(n){"function"==typeof e.onSnippetsError&&e.onSnippetsError.call(t,n)}}),Se.call(t),n.find(`.${Z}`).on("click",function(e){e.preventDefault(),we.call(t)}),n.on("click",`.${tt}`,function(e){e.preventDefault();let n=$(this);Cn.call(t,e,n,t.modalTarget,t.modalTargetAction),we.call(t)})):t.error('"snippetsUrl" must be not null!')}const wn="component",Sn="container",Dn="extra";function An(){pe();let t=this,e=t.options,n=t.sidebar,o=t.sidebarBody.children(`.${h}`);if(o.length>0){switch(o.attr("[data-setting-category]")){case Sn:"function"==typeof e.containerSettingHideFunction&&e.containerSettingHideFunction.call(t,o,t);break;case wn:let n=o.attr("data-type"),i=KEditor.components[n];"function"==typeof i.hideSettingForm&&i.hideSettingForm.call(i,o,t)}o.removeClass(h)}t.settingComponent=null,t.settingContainer=null,n.removeClass(v),t.iframeBody.removeClass(D)}function Tn(t,e,n,o,i,l){let s=this,c=s.sidebarBody,r=!1,d=c.children(`.${Dt}[data-setting-type="${e}"][data-setting-category="${n}"]`);if(0===d.length){if("function"==typeof o){d=$(`\n                <div\n                    data-setting-type="${e}"\n                    data-setting-category="${n}"\n                    class="${a} ${Dt}"\n                ></div>\n            `);let t=$(`<span class="${At}" />`).html("Loading...");c.append(d),d.append(t),$.when(o.call(i,d,s)).done(function(){setTimeout(function(){t.remove(),"function"==typeof l&&l(!1)},100)})}}else r=!0;return{settingForm:d,isExisting:r}}function xn(t,e,n,o,i,a,l){let s=this,c=s.sidebar,r=s.sidebarTitle,d=s.sidebarBody,{settingForm:p,isExisting:f}=Tn.call(s,t,e,n,i,l,()=>{"function"==typeof a&&a.call(l,p,t,s)}),u=p.hasClass(h)&&(t.is(s.settingContainer)||t.is(s.settingComponent)||t.is("[data-extra-setting]"));switch(s.settingComponent=null,s.settingContainer=null,n){case wn:s.settingComponent=t;break;case Sn:s.settingContainer=t}if(f){if(u)return void An.call(s);"function"==typeof a&&a.call(l,p,t,s)}r.html(o),d.children(`.${h}`).removeClass(h),p.addClass(h),c.addClass(v),s.iframeBody.addClass(D)}function En(t){pe();let e=this,n=e.options;if(t.is(`.${zt}`)){let n=rn.call(e,t),o=KEditor.components[n];xn.call(e,t,n,wn,o.settingTitle,o.initSettingForm,o.showSettingForm,o)}else if(t.is(`.${_t}`))xn.call(e,t,null,Sn,n.locale.containerSetting,n.containerSettingInitFunction,n.containerSettingShowFunction,e);else{let o=t.attr("data-extra-setting"),i=n.extraSettings[o];xn.call(e,t,o,Dn,i.title,i.settingInitFunction,i.settingShowFunction,i)}}function Fn(){let t=this,e=t.options;$.isPlainObject(e.extraSettings)&&$.each(e.extraSettings,(e,n)=>{let o;switch(typeof n.trigger){case"function":o=n.trigger.call(t,n);break;case"string":o=$(n.trigger);break;default:o=n.trigger}o.attr("data-extra-setting",e),o.on("click",function(e){e.preventDefault(),En.call(t,o)}),n.autoInit&&Tn.call(t,o,e,Dn,n.settingInitFunction,n)})}function Bn(){let t=this,e=ue(),n=t.sidebar=$(`\n        <div class="${a} ${R}" id="${e}">\n            <div class="${a} ${W}">\n                <span class="${a} ${z}"></span>\n                <a href="javascript:void(0);" class="${a} ${M}">&times;</a>\n            </div>\n            <div class="${a} ${O}"></div>\n        </div>\n    `);n.find(`.${M}`).on("click",function(e){e.preventDefault(),An.call(t)}),t.sidebarTitle=n.find(`.${z}`),(t.sidebarBody=n.find(`.${O}`)).on("submit","form",function(t){return t.preventDefault(),!1}),n.appendTo(t.wrapper)}const In="MOBILE",jn="TABLET",Ln="LAPTOP",Rn="DESKTOP";function Wn(t,e){let n=this,o=n.options,i=n.topbarCenter,a=n.iframe.parent(),l="",s="";switch(i.find(`.${h}`).removeClass(h),e.addClass(h),t){case In:l=o.widthMobile;break;case jn:l=o.widthTablet;break;case Ln:l=o.widthLaptop;break;case Rn:s=o.minWidthDesktop}n.deviceMode=t,a.css("width",l),a.css("min-width",s)}function On(){let t=this,e=t.options,n=t.topbarCenter,o=t.btnMobile=$(`\n        <a href="javascript:void(0);" title="${e.locale.viewOnMobile}" class="${a} ${V}">${Xe}</a>\n    `);o.on("click",function(e){e.preventDefault(),Wn.call(t,In,o)});let i=t.btnTablet=$(`\n        <a href="javascript:void(0);" title="${e.locale.viewOnTablet}" class="${a} ${V}">${Ze}</a>\n    `);i.on("click",function(e){e.preventDefault(),Wn.call(t,jn,i)});let l=t.btnLaptop=$(`\n        <a href="javascript:void(0);" title="${e.locale.viewOnLaptop}" class="${a} ${V}">${tn}</a>\n    `);l.on("click",function(e){e.preventDefault(),Wn.call(t,Ln,l)});let s=t.btnDesktop=$(`\n        <a href="javascript:void(0);" title="${e.locale.viewOnDesktop}" class="${a} ${V}">${en}</a>\n    `);s.on("click",function(e){e.preventDefault(),Wn.call(t,Rn,s)}).trigger("click"),n.append(o),n.append(i),n.append(l),n.append(s)}function zn(t){let e,n=this,o=t.clone(),i=rn.call(n,o),a=KEditor.components[i],l=me(o,null,!1),s=o.find(`.${Lt}`);if(s.length>0){s.find(`.${Wt}`).remove();let t=s.children("iframe");s.hasClass(Rt)?t.unwrap():s.removeClass(Lt)}if("function"==typeof a.getContent)e=a.getContent.call(a,o,n);else{e=o.children(`.${Yt}`).html()}return o.html(e).find("[data-dynamic-href]").each(function(){$(this).html("")}),o.children().attr(l).attr("data-type",`component-${i}`),o.html()}function Mn(t,e){let n=this,o=t.children(`.${ie}`).clone();return o.find("[data-type=container-content]").not(e?"":`.${ce}`).each(function(){let t=$(this);t.removeClass(`${ae} ${ce} ${d} ${p}`).removeAttr("id");let e=t.children(),o="";e.children().each(function(){let t=$(this);t.is(`.${zt}`)?o+=zn.call(n,t):t.is(`.${se}`)&&(o+=Mn.call(n,t,!0))}),t.html(o)}),o.html()}function Pn(t){let e=this,n=[];return e.contentAreasWrapper.find(`.${xt}`).each(function(){let t="";$(this).children(`.${_t}`).each(function(){let n=$(this);t+=Mn.call(e,n)}),n.push(t)}),t?n:n.join("\n")}function Un(){let t=this,e=t.options,n=t.btnPreview=$(`<a href="javascript:void(0);" title="${e.locale.previewOff}" class="${a} ${V}">${on}</a>`);t.previewArea=$(`<div class="${re}"></div>`),t.contentAreasWrapper.after(t.previewArea),n.on("click",function(o){o.preventDefault();let i=!n.hasClass(h);n.html(i?nn:on),n[i?"addClass":"removeClass"](h),n.attr("title",i?e.locale.previewOn:e.locale.previewOff),t.iframeBody[i?"addClass":"removeClass"](w),t.previewArea.html(""),An.call(t),i&&t.previewArea.html(Pn.call(t)).find("[data-dynamic-href]").each(function(){let e=$(this);e.html("Loading..."),dn.call(t,e)})}),t.topbarRight.append(n)}function Kn(t){var e;t?(e=this.wrapper[0]).requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen():document.fullscreenElement&&(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen())}function qn(){let t=this,e=t.options,n=t.btnFullscreen=$(`<a href="javascript:void(0);" title="${e.locale.fullscreenOff}" class="${a} ${V}">${ln}</a>`);n.on("click",function(e){e.preventDefault(),Kn.call(t,!document.fullscreenElement)}),document.addEventListener("fullscreenchange",function(){let t=!!document.fullscreenElement;n.html(t?an:ln),n.attr("title",t?e.locale.fullscreenOn:e.locale.fullscreenOff)}),t.topbarRight.append(n)}function Vn(){let t=this,e=t.options,n=t.btnSave=$(`<a href="javascript:void(0);" title="${e.locale.save}" class="${a} ${V}">${sn}</a>`);n.on("click",function(n){n.preventDefault();let o=Pn.call(t);e.onSave.call(t,o)}),t.topbarRight.append(n)}function Hn(){let t=this,e=t.options;Un.apply(t),qn.apply(t),"function"==typeof e.onSave&&Vn.apply(t)}function Gn(){let t=this.options,e=this.topbarRight;$.isPlainObject(t.extraTopbarItems)&&$.each(t.extraTopbarItems,(t,n)=>{let o=$(n.html);o.addClass(`keditor-ui keditor-topbar-btn keditor-topbar-btn-${t}`),o.on("click",n.click),e.append(o)})}function Yn(){let t=this,e=ue(),n=t.options;t.topbar=$(`\n        <div class="${a} ${P}" id="${e}">\n            <div class="${a} ${U}">\n                <div class="${a} ${H}" title="${n.title}">${n.title}</div>\n            </div>\n            <div class="${a} ${K}">\n            </div>\n            <div class="${a} ${q}">\n            </div>\n        </div>\n    `),t.topbarLeft=t.topbar.find(`.${U}`),t.topbarCenter=t.topbar.find(`.${K}`),t.topbarRight=t.topbar.find(`.${q}`),t.topbar.appendTo(t.wrapper),On.call(t),Hn.call(t),Gn.call(t)}function Nn(t,e){let n=$(t.target),o=n.closest(e);return n.is(e)?n:o.length>0?o:null}function _n(){let t=this,e=t.options,n=t.contentAreasWrapper;t.iframeBody.on("click",function(o){let i=Nn(o,`.${R}`),a=Nn(o,`.${G}`),l=Nn(o,`.${_t}`);if(l){if(!l.hasClass(S)){n.find(`.${S}`).removeClass(S),l.addClass(S);let i=l.parent();"function"==typeof e.onContainerSelected&&e.onContainerSelected.call(t,o,l,i)}}else i||a||n.find(`.${S}`).removeClass(S);let s=Nn(o,`.${zt}`);if(s){if(!s.hasClass(S)){n.find(`.${zt}.${S}`).removeClass(S),s.addClass(S);let i=s.parent();"function"==typeof e.onComponentSelected&&e.onComponentSelected.call(t,o,s,i)}if(Nn(o,`.${wt}`))return;if(e.clickComponentToShowSetting){s.find(`.${Kt}`).length>0?(t.settingComponent=null,En.call(t,s)):An.call(t)}}else i||n.find(`.${zt}.${S}`).removeClass(S)})}const Qn=27;function Jn(t,e){let n=this;n.copyContent=e?null:t,n.cutContent=e?t:null,n.contentAreasWrapper.find(`.${c}`).removeClass(c),n.iframeBody.removeClass(`${E} ${F} ${B} ${I}`),t&&(e&&t.addClass(c),n.iframeBody.addClass(E),t.hasClass(zt)&&n.iframeBody.addClass(F),t.hasClass(_t)&&n.iframeBody.addClass(t.hasClass(se)?I:B))}function Xn(){let t=this;t.iframeDoc.on("keydown",function(e){if(e.keyCode===Qn)Jn.call(t,null),Kn.call(t,!1)})}function Zn(){let t=this;t.contentAreasWrapper.on("click",`.${L}`,function(e){e.preventDefault(),pe();let n,o=$(this),i=!!t.copyContent,a=i?t.copyContent:t.cutContent,l=a.hasClass(zt),s=a.hasClass(_t),c=a.hasClass(se);n=i?$(l?zn.call(t,a):Mn.call(t,a,c)):a;let r=null,d=o.closest(`.${ht}`);d.length>0&&(d.hasClass($t)&&(pe(),r=o.closest(`.${_t}`)),d.hasClass(St)&&(pe(),r=o.closest(`.${zt}`)));let p=o.closest(`.${bt}`);p.length>0&&(pe(),r=p.siblings(`.${le}`));let f=o.closest(`.${vt}`);f.length>0&&(pe(),r=f.siblings(`.${xt}`));let u=null;u=d.length>0?Ae:De,pe(),pe(),r[u](n),Jn.call(t,null),i&&(l&&fn.call(t,n),s&&bn.call(t,n))})}function to(){let t=this;t.contentAreasWrapper.on("click",`.${$t} .${j}`,function(e){e.preventDefault();let n=$(this).closest(`.${_t}`);mn.call(t,n,Ae,!0,!0)})}function eo(){let t=this;t.contentAreasWrapper.on("click",`.${St} .${j}`,function(e){e.preventDefault();let n=$(this),o=n.closest(`.${zt}`),i=n.closest(`.${_t}`);mn.call(t,o,Ae,!0,!i.hasClass(se))})}function no(t){let e=this,n=rn.call(e,t),o=KEditor.components[n];"function"==typeof o.destroy&&o.destroy.call(o,t,e),t.remove()}function oo(){let t=this,e=t.options;t.contentAreasWrapper.on("click",`.${Gt}`,function(n){n.preventDefault();let o=$(this);if(confirm(e.locale.confirmDeleteComponentText)){let i=o.closest(`.${zt}`),a=i.closest(`.${_t}`),l=i.closest(`.${Tt}`);"function"==typeof e.onBeforeComponentDeleted&&e.onBeforeComponentDeleted.call(t,n,i,l),i.is(t.settingComponent)&&An.call(t),no.call(t,i),"function"==typeof e.onComponentDeleted&&e.onComponentDeleted.call(t,n,i,l),"function"==typeof e.onContainerChanged&&e.onContainerChanged.call(t,n,a,l),"function"==typeof e.onContentChanged&&e.onContentChanged.call(t,n,l)}})}function io(){let t=this,e=t.options;t.contentAreasWrapper.on("click",`.${qt}`,function(n){n.preventDefault();let o=$(this).closest(`.${zt}`),i=o.closest(`.${_t}`),a=i.parent(),l=$(zn.call(t,o));o.after(l),fn.call(t,l),"function"==typeof e.onComponentDuplicated&&e.onComponentDuplicated.call(t,o,l,a),"function"==typeof e.onContainerChanged&&e.onContainerChanged.call(t,n,i,a),"function"==typeof e.onContentChanged&&e.onContentChanged.call(t,n,a)})}function ao(){let t=this;t.contentAreasWrapper.on("click",`.${Vt}`,function(e){e.preventDefault();let n=$(this).closest(`.${zt}`);Jn.call(t,n,!1)})}function lo(){let t=this;t.contentAreasWrapper.on("click",`.${Ht}`,function(e){e.preventDefault();let n=$(this).closest(`.${zt}`);Jn.call(t,n,!0)})}function so(){let t=this;t.contentAreasWrapper.on("click",`.${Kt}`,function(e){e.preventDefault();let n=$(this).closest(`.${zt}`);En.call(t,n)})}function co(){let t=this,e=t.options;t.contentAreasWrapper.on("click",`.${Ut}`,function(n){n.preventDefault();let o=$(this).closest(`.${zt}`),i=o.next(`.${zt}`);if(i.length>0){let a=o.closest(`.${_t}`),l=o.closest(`.${Tt}`);i.after(o),"function"==typeof e.onContainerChanged&&e.onContainerChanged.call(t,n,a,l),"function"==typeof e.onContentChanged&&e.onContentChanged.call(t,n,l)}})}function ro(){let t=this,e=t.options;t.contentAreasWrapper.on("click",`.${Pt}`,function(n){n.preventDefault();let o=$(this).closest(`.${zt}`),i=o.prev(`.${zt}`);if(i.length>0){let a=o.closest(`.${_t}`),l=o.closest(`.${Tt}`);i.before(o),"function"==typeof e.onContainerChanged&&e.onContainerChanged.call(t,n,a,l),"function"==typeof e.onContentChanged&&e.onContentChanged.call(t,n,l)}})}function po(){let t=this,e=t.options;t.contentAreasWrapper.on("click",`.${ne}`,function(n){n.preventDefault();let o=$(this);if(confirm(e.locale.confirmDeleteContainerText)){let i=o.closest(`.${_t}`),a=i.find(`.${zt}`),l=i.closest(`.${Tt}`);if("function"==typeof e.onBeforeContainerDeleted&&e.onBeforeContainerDeleted.call(t,n,i,l),t.settingComponent){t.settingComponent.closest(`.${_t}`).is(i)&&An.call(t)}else i.is(t.settingContainer)&&An.call(t);a.length>0&&a.each(function(){no.call(t,$(this))}),i.remove(),"function"==typeof e.onContainerDeleted&&e.onContainerDeleted.call(t,n,i,l),"function"==typeof e.onContentChanged&&e.onContentChanged.call(t,n,l)}})}function fo(){let t=this,e=t.options;t.contentAreasWrapper.on("click",`.${Zt}`,function(n){n.preventDefault();let o=$(this),i=o.closest(`.${_t}`),a=i.parent(),l=$(Mn.call(t,i,o.parent().hasClass(Ct)));i.after(l),bn.call(t,l),"function"==typeof e.onContainerDuplicated&&e.onContainerDuplicated.call(t,i,l,a),"function"==typeof e.onContentChanged&&e.onContentChanged.call(t,n,a)})}function uo(){let t=this;t.contentAreasWrapper.on("click",`.${te}`,function(e){e.preventDefault();let n=$(this).closest(`.${_t}`);Jn.call(t,n,!1)})}function mo(){let t=this;t.contentAreasWrapper.on("click",`.${ee}`,function(e){e.preventDefault();let n=$(this).closest(`.${_t}`);Jn.call(t,n,!0)})}function ho(){let t=this;t.contentAreasWrapper.on("click",`.${oe}`,function(e){e.preventDefault();let n=$(this).closest(`.${_t}`);En.call(t,n)})}function vo(){let t=this,e=t.options;t.contentAreasWrapper.on("click",`.${Xt}`,function(n){n.preventDefault();let o=$(this).closest(`.${_t}`),i=o.next(`.${_t}`);if(i.length>0){let a=o.parent();i.after(o),"function"==typeof e.onContentChanged&&e.onContentChanged.call(t,n,a)}})}function go(){let t=this,e=t.options;t.contentAreasWrapper.on("click",`.${Jt}`,function(n){n.preventDefault();let o=$(this).closest(`.${_t}`),i=o.prev(`.${_t}`);if(i.length>0){let a=o.parent();i.before(o),"function"==typeof e.onContentChanged&&e.onContentChanged.call(t,n,a)}})}function $o(){let t=this;_n.call(t),Xn.call(t),Zn.call(t),eo.call(t),to.call(t),oo.call(t),io.call(t),ao.call(t),lo.call(t),co.call(t),ro.call(t),so.call(t),po.call(t),fo.call(t),uo.call(t),mo.call(t),vo.call(t),go.call(t),ho.call(t)}function bo(t,e){let n=this,o=n.options;t.addClass(Tt);let i,a=t.html(),s=$(`<div class="${xt}"></div>`).html(a);if(t.html(s),"function"==typeof o.onBeforeInitContentArea&&o.onBeforeInitContentArea.call(n,t),!e){let e=$(cn.call(n,Te));t.append(e),e.children(`.${j}`).on("click",function(t){t.preventDefault(),mn.call(n,s,De,!0,!0)})}s.sortable({handle:`.${gt}:not(.${Ct}) .${Qt}`,items:`> .${_t}`,helper:"clone",connectWith:`.${Tt}`,axis:"y",tolerance:"pointer",receive:function(e,i){let a=i.helper,s=i.item;a&&a.remove(),An.call(n),"function"==typeof o.onContentChanged&&o.onContentChanged.call(n,e,t),s.addClass(l)},start:function(t,e){e.item.addClass(l),e.item.addClass(S)},stop:function(t,e){e.helper&&e.helper.remove(),e.item.removeClass(l)}}),i="function"==typeof o.onInitContentArea?o.onInitContentArea.call(n,t):s.children(),i.each(function(){bn.call(n,$(this))})}function Co(){let t,e=this,n=e.options,o=e.contentAreasWrapper;if(n.contentAreasSelector&&(t=o.find(n.contentAreasSelector)),!t||0===t.length){let e=o.html();t=$("<div />").html(e),o.empty().append(t)}t.each(function(){let t=$(this);t.attr("id")||t.attr("id",ue()),bo.call(e,t)})}function yo(){let t=this,e=t.element,n=t.options,o=t.generateId(),i=t.wrapper=$(`\n        <div id="${o}" class="${a} ${f}">\n            <div class="${a} ${It}">\n                <div class="${a} ${jt}">\n                    <iframe class="${a} ${Ft}"></iframe>\n                </div>\n            </div>\n        </div>\n    `);e.addClass(s),e.after(i);let l=t.iframe=i.find(`.${Ft}`);t.iframeDoc=l.contents(),t.iframeDoc.get(0).open(),t.iframeDoc.get(0).close(),t.iframeWindow=l[0].contentWindow?l[0].contentWindow:l[0].contentDocument.defaultView,t.iframeHead=t.iframeDoc.find("head"),t.iframeBody=t.iframeDoc.find("body");let c="";$('[data-type="keditor-style"]').each(function(){let t=$(this),e=t.attr("id")||"",n=t.attr("href")||t.attr("data-href")||"";c+=n?`<link rel="stylesheet" type="text/css" href="${n}" ${e} />\n`:`<style type="text/css" ${e}>${t.html()}</style>\n`}),$.isArray(n.contentStyles)&&$.each(n.contentStyles,function(t,e){let n=e.id||"";e.href?c+=`<link rel="stylesheet" type="text/css" href="${e.href}" ${n} />\n`:c+=`<style type="text/css" ${n}>${e.content}</style>\n`}),t.iframeHead.append(c),t.contentAreasWrapper=$(n.contentAreasWrapper||"<div />"),t.contentAreasWrapper.attr("class",`${a} ${Et}`),t.contentAreasWrapper.html(e.val()||e.html()||""),t.contentAreasWrapper.attr("id")||t.contentAreasWrapper.attr("id",t.generateId()),t.iframeBody.append(t.contentAreasWrapper).addClass(Bt),"function"==typeof n.onInitIframe&&n.onInitIframe.call(t,t.iframe,t.iframeHead,t.iframeBody),Co.call(t),$o.call(t)}function ko(t,e){let n=this;n.element=t,n.options=$.extend({},de,e),yo.call(n),Yn.call(n),Bn.call(n),kn.call(n),Fn.call(n),n.id=ue(),KEditor.instances[n.id]=n,"function"==typeof n.options.onReady&&n.options.onReady.call(n)}function wo(){let t=this,e=t.element,n=t.id,o=Pn.call(t,!1);t.wrapper.remove(),e.is("textarea")?e.val(o):e.html(o),e.removeClass(s),e.data("keditor",null),delete KEditor.instances[n]}function So(t,e){let n,o=this.contentAreasWrapper;e?e.jquery||(n=o.find(e)):n=o.children(`.${Tt}`),0===n.length&&fe("Content area does not exist!"),n.html(t),bo.call(this,n,!0)}if(!t.fn.sortable)throw new Error("[ KEditor ] $.fn.sortable does not exist. Please import $.fn.sortable into your document for continue using KEditor.");window.KEDITOR_DEBUG=!0;let Do,Ao,To=(n=class{constructor(t,e){i(this,"settingComponent",null),i(this,"settingContainer",null),i(this,"copyContent",null),i(this,"cutContent",null),i(this,"categoryComponent",[]),i(this,"categoryContainer",[]),ko.apply(this,[t,e])}static log(...t){pe(...t)}static error(t){fe(t)}static init(t,e){return new n(t,e)}static loadDynamicContent(e,n={}){e.each(function(){dn.call({options:{onDynamicContentLoaded:n.onSuccess,onDynamicContentError:n.onError}},t(this))})}getSettingContainer(){return this.settingContainer}getSettingComponent(){return this.settingComponent}generateId(){return ue()}getDataAttributes(t,e,n){return me.apply(this,[t,e,n])}initIframeCover(t,e){he.apply(this,[t,e])}initModal(t,e,n){return yn.call(this,t,e,n)}showModal(t){un.call(this,t)}hideModal(t){ke.call(this,t)}getContent(t){return Pn.apply(this,[t])}setContent(t,e){So.apply(this,[t,e])}destroy(){wo.apply(this)}addSnippet(t,e,n,o,i,a){be.apply(this,[t,e,n,o,i,a])}initDynamicContent(t){return dn.apply(this,[t])}},i(n,"DEFAULTS",de),i(n,"debug",!1),i(n,"version","@{version}"),i(n,"instances",{}),i(n,"components",{blank:{settingEnabled:!1}}),n);t.fn.keditor=function(e){let n=t(this),o=n.data("keditor");return"string"!=typeof e?(o||(o=To.init(n,e),n.data("keditor",o)),o):o&&o[e]&&"function"==typeof o[e]?o[e].apply(o,Array.prototype.slice.call(arguments,1)):void 0},window.KEditor=t.keditor=t.fn.keditor.constructor=To,To.components.audio={settingEnabled:!0,settingTitle:"Audio Settings",init:function(t,e,n,o){let i=n.find(".keditor-component-content");0===i.find(".audio-wrapper").length&&i.wrapInner('<div class="audio-wrapper"></div>')},initSettingForm:function(t,e){t.append('<form class="form-horizontal">     <div class="form-group">         <label class="col-sm-12">Audio file</label>         <div class="col-sm-12">             <div class="audio-toolbar">                 <a href="#" class="btn-audio-upload btn btn-sm btn-primary"><i class="fa fa-upload"></i></a>                 <input class="audio-upload" type="file" style="display: none" />             </div>         </div>     </div>     <div class="form-group">         <label class="col-sm-12">Autoplay</label>         <div class="col-sm-12">             <input type="checkbox" class="audio-autoplay" />         </div>     </div>     <div class="form-group">         <label class="col-sm-12">Show Controls</label>         <div class="col-sm-12">             <input type="checkbox" class="audio-controls" checked />         </div>     </div>     <div class="form-group">         <label class="col-sm-12">Width (%)</label>         <div class="col-sm-12">             <input type="number" min="20" max="100" class="form-control audio-width" value="100" />         </div>     </div></form>');let n=t.find(".audio-upload");t.find(".btn-audio-upload").off("click").on("click",function(t){t.preventDefault(),n.trigger("click")}),n.off("change").on("change",function(){let t=this.files[0];if(/audio/.test(t.type)){e.getSettingComponent().find("audio").attr("src",URL.createObjectURL(t))}else alert("Your selected file is not an audio file!")}),t.find(".audio-autoplay").on("click",function(){e.getSettingComponent().find("audio").prop("autoplay",this.checked)}),t.find(".audio-controls").on("click",function(){e.getSettingComponent().find("audio").prop("controls",this.checked)}),t.find(".audio-width").on("change",function(){let t=e.getSettingComponent().find("audio");t.parent().attr("data-width",this.value),t.css("width",this.value+"%")})},showSettingForm:function(t,e,n){let o=e.find("audio"),i=o.parent(),a=t.find(".audio-autoplay"),l=t.find(".audio-controls"),s=t.find(".audio-width");a.prop("checked",!!o.attr("autoplay")),l.prop("checked",!!o.attr("controls")),s.val(i.attr("data-width")||100)}},To.components.form={emptyContent:'<p class="text-muted lead text-center"><br />[No form content]<br /><br /></p>',renderForm:function(e){let n=e.find(".form-content"),o=t("<div />");o.formRender({dataType:"json",formData:Ao.actions.getData("json")}),n.html(o.html()),n.hasClass("form-horizontal")&&n.children("div").each(function(){let e=t(this),o=n.attr("data-grid")||"4-8";if(o=o.split("-"),e.attr("class"))if(e.hasClass("fb-button"))e.find("button").wrap(`<div class="col-sm-${o[1]} col-sm-offset-${o[0]}"></div>`);else{let t=e.children("label"),n=e.children("input, select, textarea"),i=e.children("div");t.addClass(`control-label col-sm-${o[0]}`),i.length>0?i.addClass(`col-sm-${o[1]}`):n.addClass("form-control").wrap(`<div class="col-sm-${o[1]}"></div>`)}})},initModal:function(t){let e=this;Do=t.initModal("keditor-modal-form"),Do.find(".keditor-modal-title").html("Design form"),Do.css({visibility:"hidden",display:"block",opacity:1}),Do.find(".keditor-modal-body").append('\n            <div class="form-builder-area-wrapper">\n                <div class="form-builder-area"></div>\n            </div>\n        '),Ao=Do.find(".form-builder-area").formBuilder({showActionButtons:!1,dataType:"json",disableFields:["autocomplete","paragraph","header"],disabledAttrs:["access"],typeUserDisabledAttrs:{"checkbox-group":["toggle","inline"]}}),Do.find(".keditor-modal-footer").html('\n            <button type="button" class="keditor-ui keditor-btn keditor-btn-default keditor-modal-close">Close</button>\n            <button type="button" class="keditor-ui keditor-btn keditor-btn-primary btn-save-form">Save</button>\n        '),Do.find(".btn-save-form").on("click",function(n){n.preventDefault();let o=t.getSettingComponent();o.find(".form-data").html(Ao.actions.getData("json")),e.renderForm(o),t.hideModal(Do)}),setTimeout(()=>{Do.css({visibility:"",display:"",opacity:""})},500)},init:function(t,e,n,o){let i=this,a=n.find(".keditor-component-content"),l=n.find(".form-content");0===n.find(".form-data").length&&a.append('<div class="form-data" style="display: none !important;"></div>'),0===l.length&&a.append(`<form class="form-content">${i.emptyContent}</form>`),Do||i.initModal(o)},settingEnabled:!0,settingTitle:"Form Settings",initSettingForm:function(t,e){let n=this;t.html('\n            <div class="form-horizontal">\n                <div class="form-group">\n                    <div class="col-sm-12">\n                       <button class="btn btn-primary btn-block btn-design-form" type="button"><i class="fa fa-paint-brush"></i> Design form</button>\n                    </div>\n                </div>\n                <div class="form-group">\n                    <label class="col-sm-12">Action</label>\n                    <div class="col-sm-12">\n                        <input type="text" class="form-control txt-form-action" />\n                    </div>\n                </div>\n                <div class="form-group">\n                    <label class="col-sm-12">Method</label>\n                    <div class="col-sm-12">\n                        <select class="form-control select-method">\n                            <option value="get">Get</option>\n                            <option value="post">Post</option>\n                            <option value="put">Put</option>\n                            <option value="delete">Delete</option>\n                        </select>\n                    </div>\n                </div>\n                <div class="form-group">\n                    <label class="col-sm-12">Enctype</label>\n                    <div class="col-sm-12">\n                        <select class="form-control select-enctype">\n                            <option value="text/plain">text/plain</option>\n                            <option value="multipart/form-data">multipart/form-data</option>\n                            <option value="application/x-www-form-urlencoded">application/x-www-form-urlencoded</option>\n                        </select>\n                    </div>\n                </div>\n                <div class="form-group">\n                    <label class="col-sm-12">Layout</label>\n                    <div class="col-sm-12">\n                        <select class="form-control select-layout">\n                            <option value="">Normal</option>\n                            <option value="form-horizontal">Horizontal</option>\n                            <option value="form-inline">Inline</option>\n                        </select>\n                    </div>\n                </div>\n                <div class="form-group select-grid-wrapper">\n                    <label class="col-sm-12">Grid setting</label>\n                    <div class="col-sm-12">\n                        <select class="form-control select-grid">\n                            <option value="2-10">col-2 col-10</option>\n                            <option value="3-9">col-3 col-9</option>\n                            <option value="4-8">col-4 col-8</option>\n                            <option value="5-7">col-5 col-7</option>\n                            <option value="6-6">col-6 col-6</option>\n                        </select>\n                        <small class="help-block">This setting is for width of label and control with number of cols as unit</small>\n                    </div>\n                </div>\n            </div>\n        '),t.find(".btn-design-form").on("click",function(t){t.preventDefault();let n=e.getSettingComponent();Ao.actions.setData(n.find(".form-data").html()),e.showModal(Do)}),t.find(".txt-form-action").on("change",function(){e.getSettingComponent().find(".form-content").attr("action",this.value)}),t.find(".select-method").on("change",function(){e.getSettingComponent().find(".form-content").attr("action",this.value)}),t.find(".select-enctype").on("change",function(){e.getSettingComponent().find(".form-content").attr("enctype",this.value)}),t.find(".select-layout").on("change",function(){let o=e.getSettingComponent(),i=o.find(".form-content");i.removeClass("form-inline form-horizontal"),this.value&&i.addClass(this.value),n.renderForm(o),t.find(".select-grid-wrapper").css("display","form-horizontal"===this.value?"block":"none")}),t.find(".select-grid").on("change",function(){let t=e.getSettingComponent();t.find(".form-content").attr("data-grid",this.value),n.renderForm(t)})},showSettingForm:function(t,e,n){let o=e.find(".form-content"),i="";o.hasClass("form-inline")?i="form-inline":o.hasClass("form-horizontal")&&(i="form-horizontal"),t.find(".txt-form-action").val(o.attr("action")||""),t.find(".select-method").val(o.attr("method")||"get"),t.find(".select-enctype").val(o.attr("enctype")),t.find(".select-layout").val(i),t.find(".select-grid-wrapper").css("display","form-horizontal"===i?"block":"none"),t.find(".select-grid").val(o.attr("data-grid")||"4-8")}},To.components.googlemap={init:function(t,e,n,o){let i=n.find("iframe"),a=i.parent();o.initIframeCover(i,a)},settingEnabled:!0,settingTitle:"Google Map Settings",initSettingForm:function(e,n){e.append('<form class="form-horizontal">   <div class="form-group">       <div class="col-sm-12">           <button type="button" class="btn btn-block btn-primary btn-googlemap-edit">Update Map</button>       </div>   </div>   <div class="form-group">       <label class="col-sm-12">Aspect Ratio</label>       <div class="col-sm-12">           <button type="button" class="btn btn-sm btn-default btn-googlemap-169">16:9</button>           <button type="button" class="btn btn-sm btn-default btn-googlemap-43">4:3</button>       </div>   </div></form>'),e.find(".btn-googlemap-edit").on("click",function(e){e.preventDefault();let o=prompt("Please enter Google Map embed code in here:"),i=t(o),a=i.attr("src");i.length>0&&a&&a.length>0?n.getSettingComponent().find(".embed-responsive-item").attr("src",a):alert("Your Google Map embed code is invalid!")}),e.find(".btn-googlemap-169").on("click",function(t){t.preventDefault(),n.getSettingComponent().find(".embed-responsive").removeClass("embed-responsive-4by3").addClass("embed-responsive-16by9")}),e.find(".btn-googlemap-43").on("click",function(t){t.preventDefault(),n.getSettingComponent().find(".embed-responsive").removeClass("embed-responsive-16by9").addClass("embed-responsive-4by3")})}},To.components.photo={init:function(t,e,n,o){n.children(".keditor-component-content").find("img").css("display","inline-block")},settingEnabled:!0,settingTitle:"Photo Settings",initSettingForm:function(t,e){let n=this;e.options,t.append('<form class="form-horizontal">   <div class="form-group">       <div class="col-sm-12">           <button type="button" class="btn btn-block btn-primary" id="photo-edit">Change Photo</button>           <input type="file" style="display: none" />       </div>   </div>   <div class="form-group">       <label for="photo-align" class="col-sm-12">Align</label>       <div class="col-sm-12">           <select id="photo-align" class="form-control">               <option value="left">Left</option>               <option value="center">Center</option>               <option value="right">Right</option>           </select>       </div>   </div>   <div class="form-group">       <label for="photo-style" class="col-sm-12">Style</label>       <div class="col-sm-12">           <select id="photo-style" class="form-control">               <option value="">None</option>               <option value="img-rounded">Rounded</option>               <option value="img-circle">Circle</option>               <option value="img-thumbnail">Thumbnail</option>           </select>       </div>   </div>   <div class="form-group">       <label for="photo-responsive" class="col-sm-12">Responsive</label>       <div class="col-sm-12">           <input type="checkbox" id="photo-responsive" />       </div>   </div>   <div class="form-group">       <label for="photo-width" class="col-sm-12">Width</label>       <div class="col-sm-12">           <input type="number" id="photo-width" class="form-control" />       </div>   </div>   <div class="form-group">       <label for="photo-height" class="col-sm-12">Height</label>       <div class="col-sm-12">           <input type="number" id="photo-height" class="form-control" />       </div>   </div></form>');let o=t.find("#photo-edit"),i=o.next();o.on("click",function(t){t.preventDefault(),i.trigger("click")}),i.on("change",function(){let o=this.files[0];if(/image/.test(o.type)){let o=new FileReader;o.addEventListener("load",function(o){let i=e.getSettingComponent().find("img");i.attr("src",o.target.result),i.css({width:"",height:""}),i.load(function(){n.showSettingForm.call(n,t,e.getSettingComponent(),e)})}),o.readAsDataURL(this.files[0])}else alert("Your selected file is not photo!")}),t.find("#photo-align").on("change",function(){e.getSettingComponent().find(".photo-panel").css("text-align",this.value)}),t.find("#photo-responsive").on("click",function(){e.getSettingComponent().find("img")[this.checked?"addClass":"removeClass"]("img-responsive")}),t.find("#photo-style").on("change",function(){let t=e.getSettingComponent().find("img"),n=this.value;t.removeClass("img-rounded img-circle img-thumbnail"),n&&t.addClass(n)});let a=t.find("#photo-width"),l=t.find("#photo-height");a.on("change",function(){let t=e.getSettingComponent().find("img"),o=+this.value,i=Math.round(o/n.ratio);o<=0&&(o=n.width,i=n.height,this.value=o),t.css({width:o,height:i}),l.val(i)}),l.on("change",function(){let t=e.getSettingComponent().find("img"),o=+this.value,i=Math.round(o*n.ratio);o<=0&&(i=n.width,o=n.height,this.value=o),t.css({height:o,width:i}),a.val(i)})},showSettingForm:function(e,n,o){let i=this,a=e.find("#photo-align"),l=e.find("#photo-responsive"),s=e.find("#photo-width"),c=e.find("#photo-height"),r=e.find("#photo-style"),d=n.find(".photo-panel"),p=d.find("img"),f=d.css("text-align");"right"===f&&"center"===f||(f="left"),p.hasClass("img-rounded")?r.val("img-rounded"):p.hasClass("img-circle")?r.val("img-circle"):p.hasClass("img-thumbnail")?r.val("img-thumbnail"):r.val(""),a.val(f),l.prop("checked",p.hasClass("img-responsive")),s.val(p.width()),c.val(p.height()),t("<img />").attr("src",p.attr("src")).load(function(){i.ratio=this.width/this.height,i.width=this.width,i.height=this.height})}},e.disableAutoInline=!0,e.dom.element.prototype.scrollIntoView=()=>{},e.dom.selection.prototype.scrollIntoView=()=>{},e.dom.range.prototype.scrollIntoView=()=>{},To.components.text={options:{toolbarGroups:[{name:"document",groups:["mode","document","doctools"]},{name:"editing",groups:["find","selection","spellchecker","editing"]},{name:"forms",groups:["forms"]},{name:"basicstyles",groups:["basicstyles","cleanup"]},{name:"paragraph",groups:["list","indent","blocks","align","bidi","paragraph"]},{name:"links",groups:["links"]},{name:"insert",groups:["insert"]},"/",{name:"clipboard",groups:["clipboard","undo"]},{name:"styles",groups:["styles"]},{name:"colors",groups:["colors"]}],title:!1,allowedContent:!0,bodyId:"editor",templates_replaceContent:!1,enterMode:"P",forceEnterMode:!0,format_tags:"p;h1;h2;h3;h4;h5;h6",removePlugins:"table,magicline,tableselection,tabletools",removeButtons:"Save,NewPage,Preview,Print,Templates,PasteText,PasteFromWord,Find,Replace,SelectAll,Scayt,Form,HiddenField,ImageButton,Button,Select,Textarea,TextField,Radio,Checkbox,Outdent,Indent,Blockquote,CreateDiv,Language,Table,HorizontalRule,Smiley,SpecialChar,PageBreak,Iframe,Styles,BGColor,Maximize,About,ShowBlocks,BidiLtr,BidiRtl,Flash,Image,Subscript,Superscript,Anchor",minimumChangeMilliseconds:100},init:function(t,n,o,i){let a=i.options,l=o.children(".keditor-component-content");l.prop("contenteditable",!0),l.on("input",function(e){"function"==typeof a.onComponentChanged&&a.onComponentChanged.call(i,e,o),"function"==typeof a.onContainerChanged&&a.onContainerChanged.call(i,e,n,t),"function"==typeof a.onContentChanged&&a.onContentChanged.call(i,e,t)});let s=e.inline(l[0],this.options);s.on("instanceReady",function(){$("#cke_"+l.attr("id")).appendTo(i.wrapper),"function"==typeof a.onComponentReady&&a.onComponentReady.call(t,o,s)}),s.on("key",function(t){(t.data.domEvent.$.ctrlKey&&86===t.data.domEvent.$.keyCode||13===t.data.domEvent.$.keyCode)&&(i.iframeBody.scrollTop($(s.element.$).offset().top),setTimeout(()=>{},10))},s)},getContent:function(t,n){let o=t.find(".keditor-component-content"),i=o.attr("id"),a=e.instances[i];return a?a.getData():o.html()},destroy:function(t,n){let o=t.find(".keditor-component-content").attr("id");e.instances[o]&&e.instances[o].destroy()}},To.components.video={init:function(t,e,n,o){let i=n.children(".keditor-component-content").find("video");i.parent().is(".video-wrapper")||i.wrap('<div class="video-wrapper"></div>')},getContent:function(t,e){let n=t.children(".keditor-component-content");return n.find("video").unwrap(),n.html()},settingEnabled:!0,settingTitle:"Video Settings",initSettingForm:function(t,e){t.append('\n            <form class="form-horizontal">\n                <div class="form-group">\n                    <label for="video-input" class="col-sm-12">Video file</label>\n                    <div class="col-sm-12">\n                        <div class="video-toolbar">\n                            <a href="#" class="btn-video-input btn btn-sm btn-primary"><i class="fa fa-upload"></i></a>\n                            <input class="video-input" type="file" style="display: none" />\n                        </div>\n                    </div>\n                </div>\n                <div class="form-group">\n                    <label for="video-autoplay" class="col-sm-12">Autoplay</label>\n                    <div class="col-sm-12">\n                        <input type="checkbox" class="video-autoplay" />\n                    </div>\n                </div>\n                <div class="form-group">\n                    <label for="video-loop" class="col-sm-12">Loop</label>\n                    <div class="col-sm-12">\n                        <input type="checkbox" class="video-loop" />\n                    </div>\n                </div>\n                <div class="form-group">\n                    <label for="video-controls" class="col-sm-12">Show Controls</label>\n                    <div class="col-sm-12">\n                        <input type="checkbox" class="video-controls" checked />\n                    </div>\n                </div>\n                <div class="form-group">\n                    <label for="" class="col-sm-12">Ratio</label>\n                    <div class="col-sm-12">\n                        <input type="radio" name="video-radio" class="video-ratio" value="4/3" checked /> 4:3\n                    </div>\n                    <div class="col-sm-12">\n                        <input type="radio" name="video-radio" class="video-ratio" value="16/9" /> 16:9\n                    </div>\n                </div>\n                <div class="form-group">\n                    <label for="video-width" class="col-sm-12">Width (px)</label>\n                    <div class="col-sm-12">\n                        <input type="number" class="video-width form-control" min="320" max="1920" value="320" />\n                    </div>\n                </div>\n            </form>\n        ');let n=t.find(".video-input");t.find(".btn-video-input").on("click",function(t){t.preventDefault(),n.trigger("click")}),n.on("change",function(){let t=this.files[0],n=e.getSettingComponent().find("video");/video/.test(t.type)?n.attr("src",URL.createObjectURL(t)):alert("Your selected file is not an video file!")}),t.find(".video-autoplay").on("click",function(){e.getSettingComponent().find("video").prop("autoplay",this.checked)}),t.find(".video-loop").on("click",function(){e.getSettingComponent().find("video").prop("loop",this.checked)}),t.find(".video-ratio").on("click",function(){e.getSettingComponent().find("video").attr("data-ratio",this.value),t.find(".video-width").trigger("change")}),t.find(".video-controls").on("click",function(){e.getSettingComponent().find("video").prop("controls",this.checked)}),t.find(".video-width").on("change",function(){let t=e.getSettingComponent().find("video"),n="16/9"===t.attr("data-ratio")?16/9:4/3,o=this.value/n;t.attr("width",this.value),t.attr("height",o)})},showSettingForm:function(t,e,n){let o=e.find("video");t.find(".video-autoplay").prop("checked",o.prop("autoplay")),t.find(".video-loop").prop("checked",o.prop("loop")),t.find(".video-ratio").prop("checked",!1).filter('[value="'+o.attr("data-ratio")+'"]').prop("checked",!0),t.find(".video-controls").prop("checked",o.prop("controls")),t.find(".video-width").val(o.attr("width"))}},To.components.vimeo={init:function(t,e,n,o){let i=n.find("iframe"),a=i.parent();o.initIframeCover(i,a)},settingEnabled:!0,settingTitle:"Vimeo Settings",initSettingForm:function(t,e){t.append('<form class="form-horizontal">   <div class="form-group">       <div class="col-sm-12">           <button type="button" class="btn btn-block btn-primary btn-vimeo-edit">Change Video</button>       </div>   </div>   <div class="form-group">       <label class="col-sm-12">Autoplay</label>       <div class="col-sm-12">           <input type="checkbox" id="vimeo-autoplay" />       </div>   </div>   <div class="form-group">       <label class="col-sm-12">Aspect Ratio</label>       <div class="col-sm-12">           <button type="button" class="btn btn-sm btn-default btn-vimeo-169">16:9</button>           <button type="button" class="btn btn-sm btn-default btn-vimeo-43">4:3</button>       </div>   </div></form>'),t.find(".btn-vimeo-edit").on("click",function(t){t.preventDefault();let n=prompt("Please enter Vimeo URL in here:").match(/https?:\/\/(?:www\.|player\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|video\/|)(\d+)(?:$|\/|\?)/);n&&n[1]?e.getSettingComponent().find(".embed-responsive-item").attr("src","https://player.vimeo.com/video/"+n[1]+"?byline=0&portrait=0&badge=0"):alert("Your Vimeo URL is invalid!")}),t.find(".btn-vimeo-169").on("click",function(t){t.preventDefault(),e.getSettingComponent().find(".embed-responsive").removeClass("embed-responsive-4by3").addClass("embed-responsive-16by9")}),t.find(".btn-vimeo-43").on("click",function(t){t.preventDefault(),e.getSettingComponent().find(".embed-responsive").removeClass("embed-responsive-16by9").addClass("embed-responsive-4by3")});let n=t.find("#vimeo-autoplay");n.on("click",function(){let t=e.getSettingComponent().find(".embed-responsive-item"),o=t.attr("src").replace(/(\?.+)+/,"")+"?byline=0&portrait=0&badge=0&autoplay="+(n.is(":checked")?1:0);t.attr("src",o)})},showSettingForm:function(t,e,n){let o=e.find(".embed-responsive-item"),i=t.find("#vimeo-autoplay"),a=o.attr("src");i.prop("checked",-1!==a.indexOf("autoplay=1"))}},To.components.youtube={init:function(t,e,n,o){let i=n.find("iframe"),a=i.parent();o.initIframeCover(i,a)},settingEnabled:!0,settingTitle:"Youtube Settings",initSettingForm:function(t,e){t.append('<form class="form-horizontal">   <div class="form-group">       <div class="col-sm-12">           <button type="button" class="btn btn-block btn-primary btn-youtube-edit">Change Video</button>       </div>   </div>   <div class="form-group">       <label class="col-sm-12">Autoplay</label>       <div class="col-sm-12">           <input type="checkbox" id="youtube-autoplay" />       </div>   </div>   <div class="form-group">       <label class="col-sm-12">Aspect Ratio</label>       <div class="col-sm-12">           <button type="button" class="btn btn-sm btn-default btn-youtube-169">16:9</button>           <button type="button" class="btn btn-sm btn-default btn-youtube-43">4:3</button>       </div>   </div></form>'),t.find(".btn-youtube-edit").on("click",function(t){t.preventDefault();let n=prompt("Please enter Youtube URL in here:").match(/^(?:http(?:s)?:\/\/)?(?:www\.)?(?:m\.)?(?:youtu\.be\/|youtube\.com\/(?:(?:watch)?\?(?:.*&)?v(?:i)?=|(?:embed|v|vi|user)\/))([^\?&\"'>]+)/);n&&n[1]?e.getSettingComponent().find(".embed-responsive-item").attr("src","https://www.youtube.com/embed/"+n[1]):alert("Your Youtube URL is invalid!")}),t.find(".btn-youtube-169").on("click",function(t){t.preventDefault(),e.getSettingComponent().find(".embed-responsive").removeClass("embed-responsive-4by3").addClass("embed-responsive-16by9")}),t.find(".btn-youtube-43").on("click",function(t){t.preventDefault(),e.getSettingComponent().find(".embed-responsive").removeClass("embed-responsive-16by9").addClass("embed-responsive-4by3")});let n=t.find("#youtube-autoplay");n.on("click",function(){let t=e.getSettingComponent().find(".embed-responsive-item"),o=t.attr("src").replace(/(\?.+)+/,"")+"?autoplay="+(n.is(":checked")?1:0);t.attr("src",o)})},showSettingForm:function(t,e,n){let o=e.find(".embed-responsive-item"),i=t.find("#youtube-autoplay"),a=o.attr("src");i.prop("checked",-1!==a.indexOf("autoplay=1"))}}});
//# sourceMappingURL=keditor.umd.js.map
