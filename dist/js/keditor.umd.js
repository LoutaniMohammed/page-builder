/*! KEditor v0.2.0 | Copyright (c) 2016-present Kademi (http://kademi.co) */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).jQuery)}(this,function(t){"use strict";var e,n=Object.defineProperty,o=(t,e,o)=>((t,e,o)=>e in t?n(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o)(t,"symbol"!=typeof e?e+"":e,o);const i="keditor-ui",a="keditor-ui-dragging",l="keditor-ui-hidden",s="keditor-ui-cutting",c="ui-resizable-resizer",r="ui-sortable",d="ui-sortable",p="keditor-wrapper",f="keditor-btn",m="keditor-btn-default",u="active",h="opened",v="showed",g="selected",b="duplicated",C="initialized",y="initializing",w="previewing",k="showed-keditor-toolbar",x="showed-keditor-sidebar",S="opened-modal",D="not-matched",A="has-footer",T="copying",E="copying-component",F="copying-container",I="copying-sub-container",L="btn-add-content",q="btn-paste-content",B="keditor-sidebar",j="keditor-sidebar-header",R="keditor-sidebar-body",W="keditor-sidebar-title",O="keditor-sidebar-closer",M="keditor-topbar",z="keditor-topbar-left",P="keditor-topbar-center",U="keditor-topbar-right",N="keditor-topbar-btn",H="keditor-topbar-title",K="keditor-modal",V="keditor-modal-component",G="keditor-modal-container",Y="keditor-modal-header",_="keditor-modal-title",Q="keditor-modal-body",J="keditor-modal-footer",X="keditor-modal-close",Z="keditor-snippet",tt="keditor-snippet-inner",et="keditor-snippet-title",nt="keditor-snippet-preview",ot="keditor-snippet-container",it="keditor-snippet-component",at="keditor-snippets",lt="keditor-snippets-filter",st="keditor-snippets-filter-component",ct="keditor-snippets-filter-container",rt="keditor-snippets-filter-label",dt="keditor-snippets-search",pt="keditor-snippets-filter-wrapper",ft="keditor-snippets-wrapper",mt="keditor-toolbar",ut="keditor-toolbar-bottom",ht="keditor-toolbar-content-area",vt="keditor-toolbar-container",gt="keditor-toolbar-bottom-container",bt="keditor-toolbar-container-content",$t="keditor-toolbar-sub-container",Ct="keditor-toolbar-bottom-sub-container",yt="keditor-toolbar-sub-container-content",wt="keditor-toolbar-component",kt="keditor-toolbar-bottom-component",xt="keditor-setting-form",St="keditor-setting-form-loading",Dt="keditor-content-area",At="keditor-content-area-inner",Tt="keditor-content-areas-wrapper",Et="keditor-iframe",Ft="keditor-iframe-body",It="keditor-iframe-wrapper",Lt="keditor-iframe-width-switcher",qt="keditor-iframe-cover-wrapper",Bt="keditor-iframe-cover-wrapper-fake",jt="keditor-iframe-cover",Rt="hidden-cover",Wt="keditor-component",Ot="btn-component-move",Mt="btn-component-move-up",zt="btn-component-move-down",Pt="btn-component-setting",Ut="btn-component-duplicate",Nt="btn-component-copy",Ht="btn-component-cut",Kt="btn-component-delete",Vt="keditor-component-content",Gt="existing-component",Yt="keditor-container",_t="btn-container-move",Qt="btn-container-move-up",Jt="btn-container-move-down",Xt="btn-container-duplicate",Zt="btn-container-copy",te="btn-container-cut",ee="btn-container-delete",ne="btn-container-setting",oe="keditor-container-inner",ie="keditor-container-content",ae="keditor-container-content-inner",le="keditor-sub-container",se="keditor-sub-container-content",ce="keditor-preview-area",re={title:"Editing with KEditor",containerForQuickAddComponent:'\n        <div class="row">\n            <div class="col-sm-12" data-type="container-content">\n            </div>\n        </div>\n    ',extraSettings:null,extraTopbarItems:null,locale:{viewOnMobile:"View on mobile",viewOnTablet:"View on tablet",viewOnLaptop:"View on laptop",viewOnDesktop:"View on desktop",previewOn:"Preview ON",previewOff:"Preview OFF",fullscreenOn:"Fullscreen ON",fullscreenOff:"Fullscreen Off",save:"Save",addContent:"Add content",addContentBelow:"Add content below",pasteContent:"Paste content",pasteContentBelow:"Paste content below",move:"Drag",moveUp:"Move up",moveDown:"Move down",setting:"Setting",copy:"Copy",cut:"Cut",delete:"Delete",snippetCategoryLabel:"Category",snippetCategoryAll:"All",snippetCategorySearch:"Type to search...",columnResizeTitle:"Drag to resize",containerSetting:"Container Settings",confirmDeleteContainerText:"Are you sure that you want to delete this container? This action can not be undone!",confirmDeleteComponentText:"Are you sure that you want to delete this component? This action can not be undone!"},widthMobile:420,widthTablet:820,widthLaptop:1050,minWidthDesktop:1250,defaultComponentType:"blank",snippetsUrl:"snippets/snippets.html",snippetsCategoriesSeparator:";",contentStyles:[],contentAreasSelector:null,contentAreasWrapper:`<div class="${i} ${Tt}"></div>`,containerSettingEnabled:!1,containerSettingInitFunction:null,containerSettingShowFunction:null,containerSettingHideFunction:null,bootstrap:{columnResizeEnabled:!0,deviceClass:{MOBILE:"xs",TABLET:"sm",LAPTOP:"md",DESKTOP:"lg"},gridSystem:[{width:8.33333333,col:1},{width:16.66666667,col:2},{width:25,col:3},{width:33.33333333,col:4},{width:41.66666667,col:5},{width:50,col:6},{width:58.33333333,col:7},{width:66.66666667,col:8},{width:75,col:9},{width:83.33333333,col:10},{width:91.66666667,col:11},{width:100,col:12},{width:1e4,col:1e4}]},clickComponentToShowSetting:!1,onReady:function(){},onSave:function(t){},onSnippetsLoaded:function(t){},onSnippetsError:function(t){},onInitIframe:function(t,e,n){},onContentChanged:function(t,e){},onBeforeInitContentArea:function(t){},onInitContentArea:function(t){return t.children(`.${At}`).children()},onBeforeInitContainer:function(t,e){},onInitContainer:function(t,e){},onBeforeContainerDeleted:function(t,e,n){},onContainerDeleted:function(t,e,n){},onContainerChanged:function(t,e,n){},onContainerDuplicated:function(t,e,n,o){},onContainerSelected:function(t,e,n){},onContainerSnippetAdded:function(t,e,n,o){},onComponentReady:function(t){},onBeforeInitComponent:function(t,e){},onInitComponent:function(t,e){},onBeforeComponentDeleted:function(t,e,n){},onComponentDeleted:function(t,e,n){},onComponentChanged:function(t,e,n){},onComponentDuplicated:function(t,e,n,o){},onComponentSelected:function(t,e,n){},onComponentSnippetAdded:function(t,e,n,o){},onBeforeDynamicContentLoad:function(t,e,n){},onDynamicContentLoaded:function(t,e,n){},onDynamicContentError:function(t,e,n){}},de=(...t)=>{console&&"function"==typeof console.log&&window.KEDITOR_DEBUG},pe=t=>{throw new Error(`[ KEditor ] ${t}`)};function fe(){return`keditor-ui-${(new Date).getTime()}${Math.round(9876543210*Math.random())}`}function me(t,e,n){let o=n?[]:{};return e||(e=[]),$.each(t.get(0).attributes,function(t,i){0===i.name.indexOf("data-")&&-1===$.inArray(i.name,e)&&(n?o.push(`${i.name}="${i.value}"`):o[i.name]=i.value)}),o}function ue(t,e){e||(t.wrap(`<div class="${Bt}"></div>`),e=t.parent()),e.addClass(`${qt}`);let n=$(`<div class="${jt}"></div>`);e.prepend(n),e.on("mouseleave",function(){e.removeClass(`${Rt}`)}),n.on("dblclick",function(t){t.preventDefault(),e.addClass(`${Rt}`)})}function he(t,e,n,o,a,l){let s=this,c=s.options,r=fe(),d=`\n        <section\n            class="${i} ${Z} ${"container"===t?ot:it}"\n            data-snippet="#${r}"\n            data-type="${t}"\n            data-keditor-title="${e}"\n            data-keditor-categories="${o}"\n        >\n            <span class="${tt}">\n                <span class="${nt}" style="background-image: url('${n}')"></span>\n                <span class="${et}" title="${e}">${e}</span>\n            </span>\n        </section>\n    `,p=`<script id="${r}" type="text/html" ${l.join(" ")}>${a}<\/script>`;return o=o.split(c.snippetsCategoriesSeparator),"container"===t?s.categoryContainer=s.categoryContainer.concat(o):-1!==t.indexOf("component")&&(s.categoryComponent=s.categoryComponent.concat(o)),[d,p]}function ve(){let t=this,e=t.options,n=t.modal,o=`<option value="" selected="selected">${e.locale.snippetCategoryAll}</option>`;$.each(t.categoryComponent,function(t,e){o+=`<option value="${e}" class="${st}">${e}</option>`}),$.each(t.categoryContainer,function(e,n){let i=-1!==$.inArray(n,t.categoryComponent);o+=`<option value="${n}" class="${ct} ${i?b:""}">${n}</option>`});let a=n.find(`.${pt}`);return 0===a.length&&(a=$(`<div class="${i} ${pt}"></div>`),n.find(`.${_}`).replaceWith(a)),[o,a]}function ge(t){let e=[];for(let n=0;n<t.length;n++){let o=t[n]||"";""!==o&&-1===$.inArray(o,e)&&e.push(o)}return e.sort()}function be(t,e,n,o,i,a){let l=this,[s,c]=he.call(l,t,e,n,o,i,a);l.categoryContainer=ge(l.categoryContainer),l.categoryComponent=ge(l.categoryComponent),l.modal.find(`.${at}`).append(s),l.modal.find(`.${Q}`).append(c);let[r,d]=ve.call(l);d.find(`.${lt}`).html(r).trigger("change")}function $e(t){let e=this,n="",o="";$(t).filter("div").each(function(){let t=$(this),i=t.html().trim(),a=t.attr("data-preview"),l=t.attr("data-type"),s=t.attr("data-keditor-title"),c=t.attr("data-keditor-categories")||"",r=e.getDataAttributes(t,["data-preview","data-type","data-keditor-title","data-keditor-categories"],!0),[d,p]=he.call(e,l,s,a,c,i,r);o+=d,n+=p}),e.categoryContainer=ge(e.categoryContainer),e.categoryComponent=ge(e.categoryComponent),e.modal.find(`.${at}`).html(o),e.modal.find(`.${Q}`).append(n)}function Ce(){let t=this,e=t.options,[n,o]=ve.call(t);o.html(`\n        <span class="${i} ${rt}">${e.locale.snippetCategoryLabel}:</span>\n        <select class="${i} ${lt}">\n            ${n}\n        </select>\n        <input type="text" class="${i} ${dt}" value="" placeholder="${e.locale.snippetCategorySearch}" />\n    `);let a,l=o.find(`.${dt}`),s=o.find(`.${lt}`),c=function(){let n=(s.val()||"").toLowerCase(),o=(l.val()||"").toLowerCase(),i=t.modal.find(`.${Z}`);i.filter(`.${g}`).removeClass(g),n||o?i.each(function(){let t=$(this),i=t.attr("data-keditor-categories").toLowerCase(),a=i.split(e.snippetsCategoriesSeparator),l=0;if(n&&-1===$.inArray(n,a)&&l++,o){-1===t.attr("data-keditor-title").toLowerCase().indexOf(o)&&-1===i.indexOf(o)&&l++}t[0===l?"removeClass":"addClass"](D)}):i.removeClass(D)};s.on("change",function(){c()}),l.on("keydown",function(){clearTimeout(a),a=setTimeout(c,200)})}function ye(t){let e="webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend";t.off(e).on(e,()=>{t.hasClass(v)||(t.css("display","none"),$(document.body).removeClass(S))}),t.removeClass(v)}function we(){let t=this,e=t.modal;t.modalTarget=null,t.modalTargetAction=null,e.find(`.${g}`).removeClass(g),e.find(`.${D}`).removeClass(D),e.find(`.${lt}`).val(""),e.removeClass(V),e.removeClass(G),ye.call(t,e)}function ke(){let t=this.modal;t.on({click:function(e){e.preventDefault();let n=$(this);n.hasClass(g)?n.removeClass(g):(t.find(`.${g}`).removeClass(g),n.addClass(g))},mouseover:function(){$(this).addClass(g)},mouseout:function(){$(this).removeClass(g)}},`.${Z}`)}const xe="append",Se="after",De=1e3,Ae=2e3,Te=2100,Ee=2200,Fe=3e3,Ie=3100,Le=3200,qe=4e3,Be=4100,je='<i class="fa fa-plus"></i>',Re='<i class="fa fa-paste"></i>',We='<i class="fa fa-arrows-v"></i>',Oe='<i class="fa fa-arrows"></i>',Me='<i class="fa fa-chevron-up"></i>',ze='<i class="fa fa-chevron-up"></i>',Pe='<i class="fa fa-chevron-down"></i>',Ue='<i class="fa fa-chevron-down"></i>',Ne='<i class="fa fa-cog"></i>',He='<i class="fa fa-cog"></i>',Ke='<i class="fa fa-files-o"></i>',Ve='<i class="fa fa-files-o"></i>',Ge='<i class="fa fa-cut"></i>',Ye='<i class="fa fa-cut"></i>',_e='<i class="fa fa-trash-o"></i>',Qe='<i class="fa fa-trash-o"></i>',Je='<i class="fa fa-fw fa-mobile"></i>',Xe='<i class="fa fa-fw fa-tablet"></i>',Ze='<i class="fa fa-fw fa-laptop"></i>',tn='<i class="fa fa-fw fa-desktop"></i>',en='<i class="fa fa-fw fa-eye"></i>',nn='<i class="fa fa-fw fa-eye-slash"></i>',on='<i class="fa fa-fw fa-compress"></i>',an='<i class="fa fa-fw fa-expand"></i>',ln='<i class="fa fa-fw fa-save"></i>';function sn(t,e){let n=this.options,o="";switch(t){case Ae:case Fe:return e&&(o=`<a href="javascript:void(0);" class="${i} ${ne}" title="${n.locale.setting}">${Ne}</a>`),`\n                <div class="${i} ${mt} ${vt} ${t===Fe?$t:""}">\n                    <a href="javascript:void(0);" class="${i} ${_t}" title="${n.locale.move}">${We}</a>\n                    <a href="javascript:void(0);" class="${i} ${Qt}" title="${n.locale.moveUp}">${Me}</a>\n                    <a href="javascript:void(0);" class="${i} ${Jt}" title="${n.locale.moveDown}">${Pe}</a>\n                    ${o}\n                    <a href="javascript:void(0);" class="${i} ${te}" title="${n.locale.cut}">${Ge}</a>\n                    <a href="javascript:void(0);" class="${i} ${Zt}" title="${n.locale.copy}">${Ke}</a>\n                    <a href="javascript:void(0);" class="${i} ${ee}" title="${n.locale.delete}">${_e}</a>\n                </div>\n            `;case qe:return e&&(o=`<a href="javascript:void(0);" class="${i} ${Pt}" title="${n.locale.setting}">${He}</a>`),`\n                <div class="${i} ${mt} ${wt}">\n                    <a href="javascript:void(0);" class="${i} ${Ot}" title="${n.locale.move}">${Oe}</a>\n                    <a href="javascript:void(0);" class="${i} ${Mt}" title="${n.locale.moveUp}">${ze}</a>\n                    <a href="javascript:void(0);" class="${i} ${zt}" title="${n.locale.moveDown}">${Ue}</a>\n                    ${o}\n                    <a href="javascript:void(0);" class="${i} ${Ht}" title="${n.locale.cut}">${Ye}</a>\n                    <a href="javascript:void(0);" class="${i} ${Nt}" title="${n.locale.copy}">${Ve}</a>\n                    <a href="javascript:void(0);" class="${i} ${Kt}" title="${n.locale.delete}">${Qe}</a>\n                </div>\n            `;case De:return`\n                <div class="${i} ${ht}">\n                    <a href="javascript:void(0)" class="${i} ${f} ${m} ${L}" title="${n.locale.addContent}">${je}</a>\n                    <a href="javascript:void(0)" class="${i} ${f} ${m} ${q}" title="${n.locale.pasteContent}">${Re}</a>\n                </div>\n            `;case Te:case Le:return`\n                <div class="${i} ${bt} ${t===Le?yt:""}">\n                    <a href="javascript:void(0)" class="${i} ${f} ${m} ${L}" title="${n.locale.addContent}">${je}</a>\n                    <a href="javascript:void(0)" class="${i} ${f} ${m} ${q}" title="${n.locale.pasteContent}">${Re}</a>\n                </div>\n            `;case Ee:case Ie:return`\n                <div class="${i} ${mt} ${ut} ${gt} ${t===Ie?Ct:""}">\n                    <a href="javascript:void(0)" class="${i} ${L}" title="${n.locale.addContentBelow}">${je}</a>\n                    <a href="javascript:void(0)" class="${i} ${q}" title="${n.locale.pasteContentBelow}">${Re}</a>\n                </div>\n            `;case Be:return`\n                <div class="${i} ${mt} ${ut} ${kt}">\n                    <a href="javascript:void(0)" class="${i} ${L}" title="${n.locale.addContentBelow}">${je}</a>\n                    <a href="javascript:void(0)" class="${i} ${q}" title="${n.locale.pasteContentBelow}">${Re}</a>\n                </div>\n            `}}function cn(t){let e=this,n=e.options,o=(t.attr("data-type")||"").replace("component-","");return o&&o in KEditor.components||("string"==typeof n.defaultComponentType?o=n.defaultComponentType:"function"==typeof n.defaultComponentType&&(o=n.defaultComponentType.call(e,t)),o||e.error("Component type is undefined!")),o}function rn(t){let e=this,n=e.options,o=t.closest('[data-type^="component"]'),i=t.closest(`.${Dt}`);!t.attr("id")&&t.attr("id",fe()),"function"==typeof n.onBeforeDynamicContentLoad&&n.onBeforeDynamicContentLoad.call(e,t,o,i);let a=t.attr("data-dynamic-href"),l=me(o,["data-type","data-dynamic-href"],!1);return l=$.param(l),$.ajax({url:a,data:l,type:"GET",dataType:"HTML",success:function(o,a,l){t.html(o),"function"==typeof n.onDynamicContentLoaded&&n.onDynamicContentLoaded.call(e,t,l,i)},error:function(o,a,l){"function"==typeof n.onDynamicContentError&&n.onDynamicContentError.call(e,t,o,i)}})}function dn(t){let e=this,n=e.options,o=t.closest(`.${Yt}`),i=o.closest(`.${Dt}`);if(!t.hasClass(C)||!t.hasClass(y)){t.addClass(y),t.attr("id",fe()),"function"==typeof n.onBeforeInitComponent&&n.onBeforeInitComponent.call(e,t,i),t.children(`.${Vt}`).attr("id",fe());let a=cn.call(e,t),l=KEditor.components[a];t.append(sn.call(e,qe,l.settingEnabled)),t.append(sn.call(e,Be)),t.find("[data-dynamic-href]").each(function(){let t=$(this);rn.call(e,t)}),"function"==typeof l.init&&l.init.call(l,i,o,t,e),"function"==typeof n.onInitComponent&&n.onInitComponent.call(e,t,i),t.addClass(C),t.removeClass(y)}}function pn(t,e){if(t.is(`.${bt}`))return;let n,o=me.call(this,t,null,!0);t.wrap(`<section class="${i} ${Wt}" data-type="${t.attr("data-type")}" ${o.join(" ")}></section>`),t.wrap(`<section class="${i} ${Vt}"></section>`),n=t.parent().parent(),t.removeAttr("data-type"),e&&n.addClass(`${Gt}`),dn.call(this,n)}function fn(t){t.css("display","block"),$(document.body).addClass(S),setTimeout(()=>{t.addClass(v)},0)}function mn(t,e,n,o){let i=this,a=i.modal;i.modalTarget=t,i.modalTargetAction=e,n&&a.addClass(V),o&&a.addClass(G),a.css("display","block"),fn.call(i,a)}function un(t,e,n,o){let i=this,l=i.options,s=i.contentAreasWrapper;n.addClass(ie),o&&n.addClass(se),n.attr("id",fe());let c=$(`<div class="${ae}"></div>`);c.html(n.html()),n.html(c);let r=$(sn.call(i,o?Le:Te,l.containerSettingEnabled));r.appendTo(n),r.children(`.${L}`).on("click",function(t){t.preventDefault(),mn.call(i,c,xe,!0,!o)}),c.sortable({handle:`.${Ot}, .${_t}`,helper:"clone",items:`> .${Wt}`,connectWith:`.${ae}`,tolerance:"pointer",receive:function(e,n){let o,c=n.helper,r=n.item;c&&c.remove(),o=r.closest(`.${Yt}`),o.hasClass(k)||(s.find(`.${Yt}.${k}`).removeClass(k),o.addClass(k)),"function"==typeof l.onContainerChanged&&l.onContainerChanged.call(i,e,o,t),"function"==typeof l.onContentChanged&&l.onContentChanged.call(i,e,t),r.removeClass(a)},start:function(t,e){e.item.addClass(a),e.item.addClass(k)},stop:function(t,e){e.helper&&e.helper.remove(),e.item.removeClass(a)}}),c.children().each(function(){let t=$(this);t.find('[data-type="container-content"]').length>0?bn.call(i,t):pn.call(i,t,!0)})}const hn=(t,e)=>{let n,o;for(let i=0;i<t.length;++i){let a=Math.abs(t[i].width-e);if(o&&!(a<o))return t[n].col;n=i,o=a}return null};function vn(t){let e=this,n=e.options,o=t.find('.row > [class*="col-"]');o.length>0&&o.resizable({handles:"resizer, none",create:function(){$(this).find(`.${c}`).attr("title",n.locale.columnResizeTitle)},resize:function(t,o){let i=$(this),a=n.bootstrap.deviceClass[e.deviceMode],l=`col-${a}-1 col-${a}-2 col-${a}-3 col-${a}-4 col-${a}-5 col-${a}-6 col-${a}-7 col-${a}-8 col-${a}-9 col-${a}-10 col-${a}-11 col-${a}-12`,s=i.parent(),c=hn(n.bootstrap.gridSystem,100*o.size.width/s.innerWidth());i.removeClass(l).addClass(`col-${a}-${c}`),i.css("width",""),i.css("height","")}})}function gn(t){let e=this,n=e.options,o=t.closest('[data-type="container-content"]').length>0,i=t.closest(`.${Dt}`);if(!t.hasClass(C)||!t.hasClass(y)){t.addClass(y),"function"==typeof n.onBeforeInitContainer&&n.onBeforeInitContainer.call(e,t,i),o&&t.addClass(le),t.append(sn.call(e,o?Fe:Ae,n.containerSettingEnabled)+sn.call(e,o?Ie:Ee)),t.attr("id",fe()),t.find('[data-type="container-content"]').each(function(){let n=$(this);!o&&n.parents('[data-type="container-content"]').length>0||un.call(e,i,t,n,o)}),n.bootstrap.columnResizeEnabled&&vn.call(e,t),"function"==typeof n.onInitContainer&&n.onInitContainer.call(e,t,i),t.addClass(C),t.removeClass(y)}}function bn(t){let e;t.wrap(`<section class="${i} ${Yt}"></section>`),t.wrap(`<section class="${i} ${oe}"></section>`),e=t.parent().parent(),gn.call(this,e)}function $n(t,e,n,o){let i,a,l=this,s=l.modal,c=l.options,r=n.closest(`.${Dt}`),d=e.attr("data-type"),p=s.find(e.attr("data-snippet")),f=p.html(),m=s.hasClass(V),u=s.hasClass(G),h=!1,v=!1,g=!1;if("container"===d?h=!0:(m&&!u&&(v=!0),m&&u&&(n.is(`.${ae}`)?v=!0:o===xe?g=!0:v=!0)),l.contentAreasWrapper.find(`.${k}`).removeClass(k),h&&(i=$(f),n[o](i),"function"==typeof c.onContainerSnippetAdded&&c.onContainerSnippetAdded.call(l,t,i,e,r),"function"==typeof c.onContentChanged&&c.onContentChanged.call(l,t,r),bn.call(l,i),i.trigger("click")),v||g){let t=me.call(l,p,null,!0);a=$(`\n            <div data-type="${d}" ${t.join(" ")}>\n                ${f}\n            </div>\n        `)}if(v){n[o](a),n.closest(`.${Yt}`).addClass(k),"function"==typeof c.onComponentSnippetAdded&&c.onComponentSnippetAdded.call(l,t,a,e,r),"function"==typeof c.onContentChanged&&c.onContentChanged.call(l,t,r),pn.call(l,a),a.trigger("click")}g&&(i=$(c.containerForQuickAddComponent),i.find('[data-type="container-content"]').eq(0).html(a),n[o](i),"function"==typeof c.onComponentSnippetAdded&&c.onComponentSnippetAdded.call(l,t,a,e,r),"function"==typeof c.onContentChanged&&c.onContentChanged.call(l,t,r),bn.call(l,i),a.trigger("click"))}function Cn(t,e=!0,n=!1){let o=this,a=$(`\n        <div class="${i} ${K} ${e?A:""}" id="${t}">\n            <div class="${Y}">\n                <button type="button" class="${X}">&times;</button>\n                <h4 class="${_}"></h4>\n            </div>\n            <div class="${Q}"></div>\n            ${e?`<div class="${J}"></div>`:""}\n        </div>\n    `);return n||a.on("click",`.${X}`,function(t){t.preventDefault(),ye.call(o,a)}),a.appendTo(o.wrapper)}function yn(){let t=this,e=t.options,n=t.modal=Cn.call(t,fe(),!1,!0);"string"==typeof e.snippetsUrl&&e.snippetsUrl.length>0?(n.find(`.${Q}`).append(`\n            <div class="${ft}">\n                <div class="${at}"></div>\n            </div>\n        `),$.ajax({type:"get",dataType:"html",url:e.snippetsUrl,success:function(n){"function"==typeof e.onSnippetsLoaded&&(n=e.onSnippetsLoaded.call(t,n)||n),$e.call(t,n),Ce.call(t)},error:function(n){"function"==typeof e.onSnippetsError&&e.onSnippetsError.call(t,n)}}),ke.call(t),n.find(`.${X}`).on("click",function(e){e.preventDefault(),we.call(t)}),n.on("click",`.${Z}`,function(e){e.preventDefault();let n=$(this);$n.call(t,e,n,t.modalTarget,t.modalTargetAction),we.call(t)})):t.error('"snippetsUrl" must be not null!')}const wn="component",kn="container",xn="extra";function Sn(){de();let t=this,e=t.options,n=t.sidebar,o=t.sidebarBody.children(`.${u}`);if(o.length>0){switch(o.attr("[data-setting-category]")){case kn:"function"==typeof e.containerSettingHideFunction&&e.containerSettingHideFunction.call(t,o,t);break;case wn:let n=o.attr("data-type"),i=KEditor.components[n];"function"==typeof i.hideSettingForm&&i.hideSettingForm.call(i,o,t)}o.removeClass(u)}t.settingComponent=null,t.settingContainer=null,n.removeClass(h),t.iframeBody.removeClass(x)}function Dn(t,e,n,o,a,l){let s=this,c=s.sidebarBody,r=!1,d=c.children(`.${xt}[data-setting-type="${e}"][data-setting-category="${n}"]`);if(0===d.length){if("function"==typeof o){d=$(`\n                <div\n                    data-setting-type="${e}"\n                    data-setting-category="${n}"\n                    class="${i} ${xt}"\n                ></div>\n            `);let t=$(`<span class="${St}" />`).html("Loading...");c.append(d),d.append(t),$.when(o.call(a,d,s)).done(function(){setTimeout(function(){t.remove(),"function"==typeof l&&l(!1)},100)})}}else r=!0;return{settingForm:d,isExisting:r}}function An(t,e,n,o,i,a,l){let s=this,c=s.sidebar,r=s.sidebarTitle,d=s.sidebarBody,{settingForm:p,isExisting:f}=Dn.call(s,t,e,n,i,l,()=>{"function"==typeof a&&a.call(l,p,t,s)}),m=p.hasClass(u)&&(t.is(s.settingContainer)||t.is(s.settingComponent)||t.is("[data-extra-setting]"));switch(s.settingComponent=null,s.settingContainer=null,n){case wn:s.settingComponent=t;break;case kn:s.settingContainer=t}if(f){if(m)return void Sn.call(s);"function"==typeof a&&a.call(l,p,t,s)}r.html(o),d.children(`.${u}`).removeClass(u),p.addClass(u),c.addClass(h),s.iframeBody.addClass(x)}function Tn(t){de();let e=this,n=e.options;if(t.is(`.${Wt}`)){let n=cn.call(e,t),o=KEditor.components[n];An.call(e,t,n,wn,o.settingTitle,o.initSettingForm,o.showSettingForm,o)}else if(t.is(`.${Yt}`))An.call(e,t,null,kn,n.locale.containerSetting,n.containerSettingInitFunction,n.containerSettingShowFunction,e);else{let o=t.attr("data-extra-setting"),i=n.extraSettings[o];An.call(e,t,o,xn,i.title,i.settingInitFunction,i.settingShowFunction,i)}}function En(){let t=this,e=t.options;$.isPlainObject(e.extraSettings)&&$.each(e.extraSettings,(e,n)=>{let o;switch(typeof n.trigger){case"function":o=n.trigger.call(t,n);break;case"string":o=$(n.trigger);break;default:o=n.trigger}o.attr("data-extra-setting",e),o.on("click",function(e){e.preventDefault(),Tn.call(t,o)}),n.autoInit&&Dn.call(t,o,e,xn,n.settingInitFunction,n)})}function Fn(){let t=this,e=fe(),n=t.sidebar=$(`\n        <div class="${i} ${B}" id="${e}">\n            <div class="${i} ${j}">\n                <span class="${i} ${W}"></span>\n                <a href="javascript:void(0);" class="${i} ${O}">&times;</a>\n            </div>\n            <div class="${i} ${R}"></div>\n        </div>\n    `);n.find(`.${O}`).on("click",function(e){e.preventDefault(),Sn.call(t)}),t.sidebarTitle=n.find(`.${W}`),(t.sidebarBody=n.find(`.${R}`)).on("submit","form",function(t){return t.preventDefault(),!1}),n.appendTo(t.wrapper)}const In="MOBILE",Ln="TABLET",qn="LAPTOP",Bn="DESKTOP";function jn(t,e){let n=this,o=n.options,i=n.topbarCenter,a=n.iframe.parent(),l="",s="";switch(i.find(`.${u}`).removeClass(u),e.addClass(u),t){case In:l=o.widthMobile;break;case Ln:l=o.widthTablet;break;case qn:l=o.widthLaptop;break;case Bn:s=o.minWidthDesktop}n.deviceMode=t,a.css("width",l),a.css("min-width",s)}function Rn(){let t=this,e=t.options,n=t.topbarCenter,o=t.btnMobile=$(`\n        <a href="javascript:void(0);" title="${e.locale.viewOnMobile}" class="${i} ${N}">${Je}</a>\n    `);o.on("click",function(e){e.preventDefault(),jn.call(t,In,o)});let a=t.btnTablet=$(`\n        <a href="javascript:void(0);" title="${e.locale.viewOnTablet}" class="${i} ${N}">${Xe}</a>\n    `);a.on("click",function(e){e.preventDefault(),jn.call(t,Ln,a)});let l=t.btnLaptop=$(`\n        <a href="javascript:void(0);" title="${e.locale.viewOnLaptop}" class="${i} ${N}">${Ze}</a>\n    `);l.on("click",function(e){e.preventDefault(),jn.call(t,qn,l)});let s=t.btnDesktop=$(`\n        <a href="javascript:void(0);" title="${e.locale.viewOnDesktop}" class="${i} ${N}">${tn}</a>\n    `);s.on("click",function(e){e.preventDefault(),jn.call(t,Bn,s)}).trigger("click"),n.append(o),n.append(a),n.append(l),n.append(s)}function Wn(t){let e,n=this,o=t.clone(),i=cn.call(n,o),a=KEditor.components[i],l=me(o,null,!1),s=o.find(`.${qt}`);if(s.length>0){s.find(`.${jt}`).remove();let t=s.children("iframe");s.hasClass(Bt)?t.unwrap():s.removeClass(qt)}if("function"==typeof a.getContent)e=a.getContent.call(a,o,n);else{e=o.children(`.${Vt}`).html()}return o.html(e).find("[data-dynamic-href]").each(function(){$(this).html("")}),o.children().attr(l).attr("data-type",`component-${i}`),o.html()}function On(t,e){let n=this,o=t.children(`.${oe}`).clone();return o.find("[data-type=container-content]").not(e?"":`.${se}`).each(function(){let t=$(this);t.removeClass(`${ie} ${se} ${r} ${d}`).removeAttr("id");let e=t.children(),o="";e.children().each(function(){let t=$(this);t.is(`.${Wt}`)?o+=Wn.call(n,t):t.is(`.${le}`)&&(o+=On.call(n,t,!0))}),t.html(o)}),o.html()}function Mn(t){let e=this,n=[];return e.contentAreasWrapper.find(`.${At}`).each(function(){let t="";$(this).children(`.${Yt}`).each(function(){let n=$(this);t+=On.call(e,n)}),n.push(t)}),t?n:n.join("\n")}function zn(){let t=this,e=t.options,n=t.btnPreview=$(`<a href="javascript:void(0);" title="${e.locale.previewOff}" class="${i} ${N}">${nn}</a>`);t.previewArea=$(`<div class="${ce}"></div>`),t.contentAreasWrapper.after(t.previewArea),n.on("click",function(o){o.preventDefault();let i=!n.hasClass(u);n.html(i?en:nn),n[i?"addClass":"removeClass"](u),n.attr("title",i?e.locale.previewOn:e.locale.previewOff),t.iframeBody[i?"addClass":"removeClass"](w),t.previewArea.html(""),Sn.call(t),i&&t.previewArea.html(Mn.call(t)).find("[data-dynamic-href]").each(function(){let e=$(this);e.html("Loading..."),rn.call(t,e)})}),t.topbarRight.append(n)}function Pn(t){var e;t?(e=this.wrapper[0]).requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen():document.fullscreenElement&&(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen())}function Un(){let t=this,e=t.options,n=t.btnFullscreen=$(`<a href="javascript:void(0);" title="${e.locale.fullscreenOff}" class="${i} ${N}">${an}</a>`);n.on("click",function(e){e.preventDefault(),Pn.call(t,!document.fullscreenElement)}),document.addEventListener("fullscreenchange",function(){let t=!!document.fullscreenElement;n.html(t?on:an),n.attr("title",t?e.locale.fullscreenOn:e.locale.fullscreenOff)}),t.topbarRight.append(n)}function Nn(){let t=this,e=t.options,n=t.btnSave=$(`<a href="javascript:void(0);" title="${e.locale.save}" class="${i} ${N}">${ln}</a>`);n.on("click",function(n){n.preventDefault();let o=Mn.call(t);e.onSave.call(t,o)}),t.topbarRight.append(n)}function Hn(){let t=this,e=t.options;zn.apply(t),Un.apply(t),"function"==typeof e.onSave&&Nn.apply(t)}function Kn(){let t=this.options,e=this.topbarRight;$.isPlainObject(t.extraTopbarItems)&&$.each(t.extraTopbarItems,(t,n)=>{let o=$(n.html);o.addClass(`keditor-ui keditor-topbar-btn keditor-topbar-btn-${t}`),o.on("click",n.click),e.append(o)})}function Vn(){let t=this,e=fe(),n=t.options;t.topbar=$(`\n        <div class="${i} ${M}" id="${e}">\n            <div class="${i} ${z}">\n                <div class="${i} ${H}" title="${n.title}">${n.title}</div>\n            </div>\n            <div class="${i} ${P}">\n            </div>\n            <div class="${i} ${U}">\n            </div>\n        </div>\n    `),t.topbarLeft=t.topbar.find(`.${z}`),t.topbarCenter=t.topbar.find(`.${P}`),t.topbarRight=t.topbar.find(`.${U}`),t.topbar.appendTo(t.wrapper),Rn.call(t),Hn.call(t),Kn.call(t)}function Gn(t,e){let n=$(t.target),o=n.closest(e);return n.is(e)?n:o.length>0?o:null}function Yn(){let t=this,e=t.options,n=t.contentAreasWrapper;t.iframeBody.on("click",function(o){let i=Gn(o,`.${B}`),a=Gn(o,`.${K}`),l=Gn(o,`.${Yt}`);if(l){if(!l.hasClass(k)){n.find(`.${k}`).removeClass(k),l.addClass(k);let i=l.parent();"function"==typeof e.onContainerSelected&&e.onContainerSelected.call(t,o,l,i)}}else i||a||n.find(`.${k}`).removeClass(k);let s=Gn(o,`.${Wt}`);if(s){if(!s.hasClass(k)){n.find(`.${Wt}.${k}`).removeClass(k),s.addClass(k);let i=s.parent();"function"==typeof e.onComponentSelected&&e.onComponentSelected.call(t,o,s,i)}if(Gn(o,`.${wt}`))return;if(e.clickComponentToShowSetting){s.find(`.${Pt}`).length>0?(t.settingComponent=null,Tn.call(t,s)):Sn.call(t)}}else i||n.find(`.${Wt}.${k}`).removeClass(k)})}const _n=27;function Qn(t,e){let n=this;n.copyContent=e?null:t,n.cutContent=e?t:null,n.contentAreasWrapper.find(`.${s}`).removeClass(s),n.iframeBody.removeClass(`${T} ${E} ${F} ${I}`),t&&(e&&t.addClass(s),n.iframeBody.addClass(T),t.hasClass(Wt)&&n.iframeBody.addClass(E),t.hasClass(Yt)&&n.iframeBody.addClass(t.hasClass(le)?I:F))}function Jn(){let t=this;t.iframeDoc.on("keydown",function(e){if(e.keyCode===_n)Qn.call(t,null),Pn.call(t,!1)})}function Xn(){let t=this;t.contentAreasWrapper.on("click",`.${q}`,function(e){e.preventDefault(),de();let n,o=$(this),i=!!t.copyContent,a=i?t.copyContent:t.cutContent,l=a.hasClass(Wt),s=a.hasClass(Yt),c=a.hasClass(le);n=i?$(l?Wn.call(t,a):On.call(t,a,c)):a;let r=null,d=o.closest(`.${ut}`);d.length>0&&(d.hasClass(gt)&&(de(),r=o.closest(`.${Yt}`)),d.hasClass(kt)&&(de(),r=o.closest(`.${Wt}`)));let p=o.closest(`.${bt}`);p.length>0&&(de(),r=p.siblings(`.${ae}`));let f=o.closest(`.${ht}`);f.length>0&&(de(),r=f.siblings(`.${At}`));let m=null;m=d.length>0?Se:xe,de(),de(),r[m](n),Qn.call(t,null),i&&(l&&pn.call(t,n),s&&bn.call(t,n))})}function Zn(){let t=this;t.contentAreasWrapper.on("click",`.${gt} .${L}`,function(e){e.preventDefault();let n=$(this).closest(`.${Yt}`);mn.call(t,n,Se,!0,!0)})}function to(){let t=this;t.contentAreasWrapper.on("click",`.${kt} .${L}`,function(e){e.preventDefault();let n=$(this),o=n.closest(`.${Wt}`),i=n.closest(`.${Yt}`);mn.call(t,o,Se,!0,!i.hasClass(le))})}function eo(t){let e=this,n=cn.call(e,t),o=KEditor.components[n];"function"==typeof o.destroy&&o.destroy.call(o,t,e),t.remove()}function no(){let t=this,e=t.options;t.contentAreasWrapper.on("click",`.${Kt}`,function(n){n.preventDefault();let o=$(this);if(confirm(e.locale.confirmDeleteComponentText)){let i=o.closest(`.${Wt}`),a=i.closest(`.${Yt}`),l=i.closest(`.${Dt}`);"function"==typeof e.onBeforeComponentDeleted&&e.onBeforeComponentDeleted.call(t,n,i,l),i.is(t.settingComponent)&&Sn.call(t),eo.call(t,i),"function"==typeof e.onComponentDeleted&&e.onComponentDeleted.call(t,n,i,l),"function"==typeof e.onContainerChanged&&e.onContainerChanged.call(t,n,a,l),"function"==typeof e.onContentChanged&&e.onContentChanged.call(t,n,l)}})}function oo(){let t=this,e=t.options;t.contentAreasWrapper.on("click",`.${Ut}`,function(n){n.preventDefault();let o=$(this).closest(`.${Wt}`),i=o.closest(`.${Yt}`),a=i.parent(),l=$(Wn.call(t,o));o.after(l),pn.call(t,l),"function"==typeof e.onComponentDuplicated&&e.onComponentDuplicated.call(t,o,l,a),"function"==typeof e.onContainerChanged&&e.onContainerChanged.call(t,n,i,a),"function"==typeof e.onContentChanged&&e.onContentChanged.call(t,n,a)})}function io(){let t=this;t.contentAreasWrapper.on("click",`.${Nt}`,function(e){e.preventDefault();let n=$(this).closest(`.${Wt}`);Qn.call(t,n,!1)})}function ao(){let t=this;t.contentAreasWrapper.on("click",`.${Ht}`,function(e){e.preventDefault();let n=$(this).closest(`.${Wt}`);Qn.call(t,n,!0)})}function lo(){let t=this;t.contentAreasWrapper.on("click",`.${Pt}`,function(e){e.preventDefault();let n=$(this).closest(`.${Wt}`);Tn.call(t,n)})}function so(){let t=this,e=t.options;t.contentAreasWrapper.on("click",`.${zt}`,function(n){n.preventDefault();let o=$(this).closest(`.${Wt}`),i=o.next(`.${Wt}`);if(i.length>0){let a=o.closest(`.${Yt}`),l=o.closest(`.${Dt}`);i.after(o),"function"==typeof e.onContainerChanged&&e.onContainerChanged.call(t,n,a,l),"function"==typeof e.onContentChanged&&e.onContentChanged.call(t,n,l)}})}function co(){let t=this,e=t.options;t.contentAreasWrapper.on("click",`.${Mt}`,function(n){n.preventDefault();let o=$(this).closest(`.${Wt}`),i=o.prev(`.${Wt}`);if(i.length>0){let a=o.closest(`.${Yt}`),l=o.closest(`.${Dt}`);i.before(o),"function"==typeof e.onContainerChanged&&e.onContainerChanged.call(t,n,a,l),"function"==typeof e.onContentChanged&&e.onContentChanged.call(t,n,l)}})}function ro(){let t=this,e=t.options;t.contentAreasWrapper.on("click",`.${ee}`,function(n){n.preventDefault();let o=$(this);if(confirm(e.locale.confirmDeleteContainerText)){let i=o.closest(`.${Yt}`),a=i.find(`.${Wt}`),l=i.closest(`.${Dt}`);if("function"==typeof e.onBeforeContainerDeleted&&e.onBeforeContainerDeleted.call(t,n,i,l),t.settingComponent){t.settingComponent.closest(`.${Yt}`).is(i)&&Sn.call(t)}else i.is(t.settingContainer)&&Sn.call(t);a.length>0&&a.each(function(){eo.call(t,$(this))}),i.remove(),"function"==typeof e.onContainerDeleted&&e.onContainerDeleted.call(t,n,i,l),"function"==typeof e.onContentChanged&&e.onContentChanged.call(t,n,l)}})}function po(){let t=this,e=t.options;t.contentAreasWrapper.on("click",`.${Xt}`,function(n){n.preventDefault();let o=$(this),i=o.closest(`.${Yt}`),a=i.parent(),l=$(On.call(t,i,o.parent().hasClass($t)));i.after(l),bn.call(t,l),"function"==typeof e.onContainerDuplicated&&e.onContainerDuplicated.call(t,i,l,a),"function"==typeof e.onContentChanged&&e.onContentChanged.call(t,n,a)})}function fo(){let t=this;t.contentAreasWrapper.on("click",`.${Zt}`,function(e){e.preventDefault();let n=$(this).closest(`.${Yt}`);Qn.call(t,n,!1)})}function mo(){let t=this;t.contentAreasWrapper.on("click",`.${te}`,function(e){e.preventDefault();let n=$(this).closest(`.${Yt}`);Qn.call(t,n,!0)})}function uo(){let t=this;t.contentAreasWrapper.on("click",`.${ne}`,function(e){e.preventDefault();let n=$(this).closest(`.${Yt}`);Tn.call(t,n)})}function ho(){let t=this,e=t.options;t.contentAreasWrapper.on("click",`.${Jt}`,function(n){n.preventDefault();let o=$(this).closest(`.${Yt}`),i=o.next(`.${Yt}`);if(i.length>0){let a=o.parent();i.after(o),"function"==typeof e.onContentChanged&&e.onContentChanged.call(t,n,a)}})}function vo(){let t=this,e=t.options;t.contentAreasWrapper.on("click",`.${Qt}`,function(n){n.preventDefault();let o=$(this).closest(`.${Yt}`),i=o.prev(`.${Yt}`);if(i.length>0){let a=o.parent();i.before(o),"function"==typeof e.onContentChanged&&e.onContentChanged.call(t,n,a)}})}function go(){let t=this;Yn.call(t),Jn.call(t),Xn.call(t),to.call(t),Zn.call(t),no.call(t),oo.call(t),io.call(t),ao.call(t),so.call(t),co.call(t),lo.call(t),ro.call(t),po.call(t),fo.call(t),mo.call(t),ho.call(t),vo.call(t),uo.call(t)}function bo(t,e){let n=this,o=n.options;t.addClass(Dt);let i,l=t.html(),s=$(`<div class="${At}"></div>`).html(l);if(t.html(s),"function"==typeof o.onBeforeInitContentArea&&o.onBeforeInitContentArea.call(n,t),!e){let e=$(sn.call(n,De));t.append(e),e.children(`.${L}`).on("click",function(t){t.preventDefault(),mn.call(n,s,xe,!0,!0)})}s.sortable({handle:`.${vt}:not(.${$t}) .${_t}`,items:`> .${Yt}`,helper:"clone",connectWith:`.${Dt}`,axis:"y",tolerance:"pointer",receive:function(e,i){let l=i.helper,s=i.item;l&&l.remove(),Sn.call(n),"function"==typeof o.onContentChanged&&o.onContentChanged.call(n,e,t),s.addClass(a)},start:function(t,e){e.item.addClass(a),e.item.addClass(k)},stop:function(t,e){e.helper&&e.helper.remove(),e.item.removeClass(a)}}),i="function"==typeof o.onInitContentArea?o.onInitContentArea.call(n,t):s.children(),i.each(function(){bn.call(n,$(this))})}function $o(){let t,e=this,n=e.options,o=e.contentAreasWrapper;if(n.contentAreasSelector&&(t=o.find(n.contentAreasSelector)),!t||0===t.length){let e=o.html();t=$("<div />").html(e),o.empty().append(t)}t.each(function(){let t=$(this);t.attr("id")||t.attr("id",fe()),bo.call(e,t)})}function Co(){let t=this,e=t.element,n=t.options,o=t.generateId(),a=t.wrapper=$(`\n        <div id="${o}" class="${i} ${p}">\n            <div class="${i} ${It}">\n                <div class="${i} ${Lt}">\n                    <iframe class="${i} ${Et}"></iframe>\n                </div>\n            </div>\n        </div>\n    `);e.addClass(l),e.after(a);let s=t.iframe=a.find(`.${Et}`);t.iframeDoc=s.contents(),t.iframeDoc.get(0).open(),t.iframeDoc.get(0).close(),t.iframeWindow=s[0].contentWindow?s[0].contentWindow:s[0].contentDocument.defaultView,t.iframeHead=t.iframeDoc.find("head"),t.iframeBody=t.iframeDoc.find("body");let c="";$('[data-type="keditor-style"]').each(function(){let t=$(this),e=t.attr("id")||"",n=t.attr("href")||t.attr("data-href")||"";c+=n?`<link rel="stylesheet" type="text/css" href="${n}" ${e} />\n`:`<style type="text/css" ${e}>${t.html()}</style>\n`}),$.isArray(n.contentStyles)&&$.each(n.contentStyles,function(t,e){let n=e.id||"";e.href?c+=`<link rel="stylesheet" type="text/css" href="${e.href}" ${n} />\n`:c+=`<style type="text/css" ${n}>${e.content}</style>\n`}),t.iframeHead.append(c),t.contentAreasWrapper=$(n.contentAreasWrapper||"<div />"),t.contentAreasWrapper.attr("class",`${i} ${Tt}`),t.contentAreasWrapper.html(e.val()||e.html()||""),t.contentAreasWrapper.attr("id")||t.contentAreasWrapper.attr("id",t.generateId()),t.iframeBody.append(t.contentAreasWrapper).addClass(Ft),"function"==typeof n.onInitIframe&&n.onInitIframe.call(t,t.iframe,t.iframeHead,t.iframeBody),$o.call(t),go.call(t)}function yo(t,e){let n=this;n.element=t,n.options=$.extend({},re,e),Co.call(n),Vn.call(n),Fn.call(n),yn.call(n),En.call(n),n.id=fe(),KEditor.instances[n.id]=n,"function"==typeof n.options.onReady&&n.options.onReady.call(n)}function wo(){let t=this,e=t.element,n=t.id,o=Mn.call(t,!1);t.wrapper.remove(),e.is("textarea")?e.val(o):e.html(o),e.removeClass(l),e.data("keditor",null),delete KEditor.instances[n]}function ko(t,e){let n,o=this.contentAreasWrapper;e?e.jquery||(n=o.find(e)):n=o.children(`.${Dt}`),0===n.length&&pe("Content area does not exist!"),n.html(t),bo.call(this,n,!0)}if(!t.fn.sortable)throw new Error("[ KEditor ] $.fn.sortable does not exist. Please import $.fn.sortable into your document for continue using KEditor.");let xo,So,Do=(e=class{constructor(t,e){o(this,"settingComponent",null),o(this,"settingContainer",null),o(this,"copyContent",null),o(this,"cutContent",null),o(this,"categoryComponent",[]),o(this,"categoryContainer",[]),yo.apply(this,[t,e])}static log(...t){de(...t)}static error(t){pe(t)}static init(t,n){return new e(t,n)}static loadDynamicContent(e,n={}){e.each(function(){rn.call({options:{onDynamicContentLoaded:n.onSuccess,onDynamicContentError:n.onError}},t(this))})}getSettingContainer(){return this.settingContainer}getSettingComponent(){return this.settingComponent}generateId(){return fe()}getDataAttributes(t,e,n){return me.apply(this,[t,e,n])}initIframeCover(t,e){ue.apply(this,[t,e])}initModal(t,e,n){return Cn.call(this,t,e,n)}showModal(t){fn.call(this,t)}hideModal(t){ye.call(this,t)}getContent(t){return Mn.apply(this,[t])}setContent(t,e){ko.apply(this,[t,e])}destroy(){wo.apply(this)}addSnippet(t,e,n,o,i,a){be.apply(this,[t,e,n,o,i,a])}initDynamicContent(t){return rn.apply(this,[t])}},o(e,"DEFAULTS",re),o(e,"debug",!1),o(e,"version","@{version}"),o(e,"instances",{}),o(e,"components",{blank:{settingEnabled:!1}}),e);t.fn.keditor=function(e){let n=t(this),o=n.data("keditor");return"string"!=typeof e?(o||(o=Do.init(n,e),n.data("keditor",o)),o):o&&o[e]&&"function"==typeof o[e]?o[e].apply(o,Array.prototype.slice.call(arguments,1)):void 0},window.KEditor=t.keditor=t.fn.keditor.constructor=Do,Do.components.audio={settingEnabled:!0,settingTitle:"Audio Settings",init:function(t,e,n,o){let i=n.find(".keditor-component-content");0===i.find(".audio-wrapper").length&&i.wrapInner('<div class="audio-wrapper"></div>')},initSettingForm:function(t,e){t.append('<form class="form-horizontal">     <div class="mb-3">         <label class="col-sm-12 form-label">Audio file</label>         <div class="col-sm-12">             <div class="audio-toolbar">                 <a href="#" class="btn-audio-upload btn btn-sm btn-primary"><i class="fa fa-upload"></i></a>                 <input class="audio-upload" type="file" style="display: none" />             </div>         </div>     </div>     <div class="mb-3">         <label class="col-sm-12 form-label">Autoplay</label>         <div class="col-sm-12">             <input type="checkbox" class="audio-autoplay form-check-input" />         </div>     </div>     <div class="mb-3">         <label class="col-sm-12 form-label">Show Controls</label>         <div class="col-sm-12">             <input type="checkbox" class="audio-controls form-check-input" checked />         </div>     </div>     <div class="mb-3">         <label class="col-sm-12 form-label">Width (%)</label>         <div class="col-sm-12">             <input type="number" min="20" max="100" class="form-control audio-width" value="100" />         </div>     </div></form>');let n=t.find(".audio-upload");t.find(".btn-audio-upload").off("click").on("click",function(t){t.preventDefault(),n.trigger("click")}),n.off("change").on("change",function(){let t=this.files[0];if(/audio/.test(t.type)){e.getSettingComponent().find("audio").attr("src",URL.createObjectURL(t))}else alert("Your selected file is not an audio file!")}),t.find(".audio-autoplay").on("click",function(){e.getSettingComponent().find("audio").prop("autoplay",this.checked)}),t.find(".audio-controls").on("click",function(){e.getSettingComponent().find("audio").prop("controls",this.checked)}),t.find(".audio-width").on("change",function(){let t=e.getSettingComponent().find("audio");t.parent().attr("data-width",this.value),t.css("width",this.value+"%")})},showSettingForm:function(t,e,n){let o=e.find("audio"),i=o.parent(),a=t.find(".audio-autoplay"),l=t.find(".audio-controls"),s=t.find(".audio-width");a.prop("checked",!!o.attr("autoplay")),l.prop("checked",!!o.attr("controls")),s.val(i.attr("data-width")||100)}},Do.components.form={emptyContent:'<p class="text-muted lead text-center"><br />[No form content]<br /><br /></p>',renderForm:function(e){let n=e.find(".form-content"),o=t("<div />");o.formRender({dataType:"json",formData:So.actions.getData("json")}),n.html(o.html()),n.hasClass("form-horizontal")&&n.children("div").each(function(){let e=t(this),o=n.attr("data-grid")||"4-8";if(o=o.split("-"),e.attr("class"))if(e.hasClass("fb-button"))e.find("button").wrap(`<div class="col-sm-${o[1]} offset-sm-${o[0]}"></div>`);else{let t=e.children("label"),n=e.children("input, select, textarea"),i=e.children("div");t.addClass(`form-label col-sm-${o[0]}`),i.length>0?i.addClass(`col-sm-${o[1]}`):n.addClass("form-control").wrap(`<div class="col-sm-${o[1]}"></div>`)}})},initModal:function(t){let e=this;xo=t.initModal("keditor-modal-form"),xo.find(".keditor-modal-title").html("Design form"),xo.css({visibility:"hidden",display:"block",opacity:1}),xo.find(".keditor-modal-body").append('\n            <div class="form-builder-area-wrapper">\n                <div class="form-builder-area"></div>\n            </div>\n        '),So=xo.find(".form-builder-area").formBuilder({showActionButtons:!1,dataType:"json",disableFields:["autocomplete","paragraph","header"],disabledAttrs:["access"],typeUserDisabledAttrs:{"checkbox-group":["toggle","inline"]}}),xo.find(".keditor-modal-footer").html('\n            <button type="button" class="keditor-ui keditor-btn keditor-btn-default keditor-modal-close">Close</button>\n            <button type="button" class="keditor-ui keditor-btn keditor-btn-primary btn-save-form">Save</button>\n        '),xo.find(".btn-save-form").on("click",function(n){n.preventDefault();let o=t.getSettingComponent();o.find(".form-data").html(So.actions.getData("json")),e.renderForm(o),t.hideModal(xo)}),setTimeout(()=>{xo.css({visibility:"",display:"",opacity:""})},500)},init:function(t,e,n,o){let i=this,a=n.find(".keditor-component-content"),l=n.find(".form-content");0===n.find(".form-data").length&&a.append('<div class="form-data" style="display: none !important;"></div>'),0===l.length&&a.append(`<form class="form-content">${i.emptyContent}</form>`),xo||i.initModal(o)},settingEnabled:!0,settingTitle:"Form Settings",initSettingForm:function(t,e){let n=this;t.html('\n            <div class="form-horizontal">\n                <div class="mb-3">\n                    <div class="col-sm-12">\n                       <button class="btn btn-primary w-100 btn-design-form" type="button"><i class="fa fa-paint-brush"></i> Design form</button>\n                    </div>\n                </div>\n                <div class="mb-3">\n                    <label class="col-sm-12 form-label">Action</label>\n                    <div class="col-sm-12">\n                        <input type="text" class="form-control txt-form-action" />\n                    </div>\n                </div>\n                <div class="mb-3">\n                    <label class="col-sm-12 form-label">Method</label>\n                    <div class="col-sm-12">\n                        <select class="form-select select-method">\n                            <option value="get">Get</option>\n                            <option value="post">Post</option>\n                            <option value="put">Put</option>\n                            <option value="delete">Delete</option>\n                        </select>\n                    </div>\n                </div>\n                <div class="mb-3">\n                    <label class="col-sm-12 form-label">Enctype</label>\n                    <div class="col-sm-12">\n                        <select class="form-select select-enctype">\n                            <option value="text/plain">text/plain</option>\n                            <option value="multipart/form-data">multipart/form-data</option>\n                            <option value="application/x-www-form-urlencoded">application/x-www-form-urlencoded</option>\n                        </select>\n                    </div>\n                </div>\n                <div class="mb-3">\n                    <label class="col-sm-12 form-label">Layout</label>\n                    <div class="col-sm-12">\n                        <select class="form-select select-layout">\n                            <option value="">Normal</option>\n                            <option value="form-horizontal">Horizontal</option>\n                            <option value="form-inline">Inline</option>\n                        </select>\n                    </div>\n                </div>\n                <div class="mb-3 select-grid-wrapper">\n                    <label class="col-sm-12 form-label">Grid setting</label>\n                    <div class="col-sm-12">\n                        <select class="form-select select-grid">\n                            <option value="2-10">col-2 col-10</option>\n                            <option value="3-9">col-3 col-9</option>\n                            <option value="4-8">col-4 col-8</option>\n                            <option value="5-7">col-5 col-7</option>\n                            <option value="6-6">col-6 col-6</option>\n                        </select>\n                        <small class="form-text text-muted">This setting is for width of label and control with number of cols as unit</small>\n                    </div>\n                </div>\n            </div>\n        '),t.find(".btn-design-form").on("click",function(t){t.preventDefault();let n=e.getSettingComponent();So.actions.setData(n.find(".form-data").html()),e.showModal(xo)}),t.find(".txt-form-action").on("change",function(){e.getSettingComponent().find(".form-content").attr("action",this.value)}),t.find(".select-method").on("change",function(){e.getSettingComponent().find(".form-content").attr("action",this.value)}),t.find(".select-enctype").on("change",function(){e.getSettingComponent().find(".form-content").attr("enctype",this.value)}),t.find(".select-layout").on("change",function(){let o=e.getSettingComponent(),i=o.find(".form-content");i.removeClass("form-inline form-horizontal"),this.value&&i.addClass(this.value),n.renderForm(o),t.find(".select-grid-wrapper").css("display","form-horizontal"===this.value?"block":"none")}),t.find(".select-grid").on("change",function(){let t=e.getSettingComponent();t.find(".form-content").attr("data-grid",this.value),n.renderForm(t)})},showSettingForm:function(t,e,n){let o=e.find(".form-content"),i="";o.hasClass("form-inline")?i="form-inline":o.hasClass("form-horizontal")&&(i="form-horizontal"),t.find(".txt-form-action").val(o.attr("action")||""),t.find(".select-method").val(o.attr("method")||"get"),t.find(".select-enctype").val(o.attr("enctype")),t.find(".select-layout").val(i),t.find(".select-grid-wrapper").css("display","form-horizontal"===i?"block":"none"),t.find(".select-grid").val(o.attr("data-grid")||"4-8")}},Do.components.googlemap={init:function(t,e,n,o){let i=n.find("iframe"),a=i.parent();o.initIframeCover(i,a)},settingEnabled:!0,settingTitle:"Google Map Settings",initSettingForm:function(e,n){e.append('<form class="form-horizontal">   <div class="mb-3">       <div class="col-sm-12">           <button type="button" class="btn w-100 btn-primary btn-googlemap-edit">Update Map</button>       </div>   </div>   <div class="mb-3">       <label class="col-sm-12 form-label">Aspect Ratio</label>       <div class="col-sm-12">           <button type="button" class="btn btn-sm btn-secondary btn-googlemap-169">16:9</button>           <button type="button" class="btn btn-sm btn-secondary btn-googlemap-43">4:3</button>       </div>   </div></form>'),e.find(".btn-googlemap-edit").on("click",function(e){e.preventDefault();let o=prompt("Please enter Google Map embed code in here:"),i=t(o),a=i.attr("src");i.length>0&&a&&a.length>0?n.getSettingComponent().find("iframe").attr("src",a):alert("Your Google Map embed code is invalid!")}),e.find(".btn-googlemap-169").on("click",function(t){t.preventDefault(),n.getSettingComponent().find(".ratio").removeClass("ratio-4x3").addClass("ratio-16x9")}),e.find(".btn-googlemap-43").on("click",function(t){t.preventDefault(),n.getSettingComponent().find(".ratio").removeClass("ratio-16x9").addClass("ratio-4x3")})}},Do.components.photo={init:function(t,e,n,o){n.children(".keditor-component-content").find("img").css("display","inline-block")},settingEnabled:!0,settingTitle:"Photo Settings",initSettingForm:function(t,e){let n=this;e.options,t.append('<form class="form-horizontal">   <div class="mb-3">       <div class="col-sm-12">           <button type="button" class="btn w-100 btn-primary" id="photo-edit">Change Photo</button>           <input type="file" style="display: none" />       </div>   </div>   <div class="mb-3">       <label for="photo-align" class="col-sm-12 form-label">Align</label>       <div class="col-sm-12">           <select id="photo-align" class="form-select">               <option value="left">Left</option>               <option value="center">Center</option>               <option value="right">Right</option>           </select>       </div>   </div>   <div class="mb-3">       <label for="photo-style" class="col-sm-12 form-label">Style</label>       <div class="col-sm-12">           <select id="photo-style" class="form-select">               <option value="">None</option>               <option value="rounded">Rounded</option>               <option value="rounded-circle">Circle</option>               <option value="img-thumbnail">Thumbnail</option>           </select>       </div>   </div>   <div class="mb-3">       <label for="photo-responsive" class="col-sm-12 form-label">Responsive</label>       <div class="col-sm-12">           <input type="checkbox" class="form-check-input" id="photo-responsive" />       </div>   </div>   <div class="mb-3">       <label for="photo-width" class="col-sm-12 form-label">Width</label>       <div class="col-sm-12">           <input type="number" id="photo-width" class="form-control" />       </div>   </div>   <div class="mb-3">       <label for="photo-height" class="col-sm-12 form-label">Height</label>       <div class="col-sm-12">           <input type="number" id="photo-height" class="form-control" />       </div>   </div></form>');let o=t.find("#photo-edit"),i=o.next();o.on("click",function(t){t.preventDefault(),i.trigger("click")}),i.on("change",function(){let o=this.files[0];if(/image/.test(o.type)){let o=new FileReader;o.addEventListener("load",function(o){let i=e.getSettingComponent().find("img");i.attr("src",o.target.result),i.css({width:"",height:""}),i.load(function(){n.showSettingForm.call(n,t,e.getSettingComponent(),e)})}),o.readAsDataURL(this.files[0])}else alert("Your selected file is not photo!")}),t.find("#photo-align").on("change",function(){e.getSettingComponent().find(".photo-panel").css("text-align",this.value)}),t.find("#photo-responsive").on("click",function(){e.getSettingComponent().find("img")[this.checked?"addClass":"removeClass"]("img-fluid")}),t.find("#photo-style").on("change",function(){let t=e.getSettingComponent().find("img"),n=this.value;t.removeClass("rounded rounded-circle img-thumbnail"),n&&t.addClass(n)});let a=t.find("#photo-width"),l=t.find("#photo-height");a.on("change",function(){let t=e.getSettingComponent().find("img"),o=+this.value,i=Math.round(o/n.ratio);o<=0&&(o=n.width,i=n.height,this.value=o),t.css({width:o,height:i}),l.val(i)}),l.on("change",function(){let t=e.getSettingComponent().find("img"),o=+this.value,i=Math.round(o*n.ratio);o<=0&&(i=n.width,o=n.height,this.value=o),t.css({height:o,width:i}),a.val(i)})},showSettingForm:function(e,n,o){let i=this,a=e.find("#photo-align"),l=e.find("#photo-responsive"),s=e.find("#photo-width"),c=e.find("#photo-height"),r=e.find("#photo-style"),d=n.find(".photo-panel"),p=d.find("img"),f=d.css("text-align");"right"===f&&"center"===f||(f="left"),p.hasClass("rounded")?r.val("rounded"):p.hasClass("rounded-circle")?r.val("rounded-circle"):p.hasClass("img-thumbnail")?r.val("img-thumbnail"):r.val(""),a.val(f),l.prop("checked",p.hasClass("img-fluid")),s.val(p.width()),c.val(p.height()),t("<img />").attr("src",p.attr("src")).load(function(){i.ratio=this.width/this.height,i.width=this.width,i.height=this.height})}},Do.components.text={editors:{},init:function(t,e,n,o){let i=this,a=o.options,l=n.children(".keditor-component-content"),s=l.attr("id");void 0!==window.InlineEditor?window.InlineEditor.create(l[0],{toolbar:{items:["heading","|","bold","italic","underline","strikethrough","|","link","|","bulletedList","numberedList","|","alignment","|","fontColor","fontBackgroundColor","|","undo","redo"],shouldNotGroupWhenFull:!0},heading:{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h1",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h2",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h3",title:"Heading 3",class:"ck-heading_heading3"},{model:"heading4",view:"h4",title:"Heading 4",class:"ck-heading_heading4"},{model:"heading5",view:"h5",title:"Heading 5",class:"ck-heading_heading5"},{model:"heading6",view:"h6",title:"Heading 6",class:"ck-heading_heading6"}]},link:{addTargetToExternalLinks:!0}}).then(l=>{i.editors[s]=l,l.model.document.on("change:data",()=>{"function"==typeof a.onComponentChanged&&a.onComponentChanged.call(o,null,n),"function"==typeof a.onContainerChanged&&a.onContainerChanged.call(o,null,e,t),"function"==typeof a.onContentChanged&&a.onContentChanged.call(o,null,t)}),"function"==typeof a.onComponentReady&&a.onComponentReady.call(t,n,l)}).catch(t=>{l.prop("contenteditable",!0)}):l.prop("contenteditable",!0)},getContent:function(t,e){let n=t.find(".keditor-component-content"),o=n.attr("id"),i=this.editors[o];return i?i.getData():n.html()},destroy:function(t,e){let n=t.find(".keditor-component-content").attr("id"),o=this.editors[n];o&&o.destroy().then(()=>{delete this.editors[n]}).catch(t=>{})}},Do.components.video={init:function(t,e,n,o){let i=n.children(".keditor-component-content").find("video");i.parent().is(".video-wrapper")||i.wrap('<div class="video-wrapper"></div>')},getContent:function(t,e){let n=t.children(".keditor-component-content");return n.find("video").unwrap(),n.html()},settingEnabled:!0,settingTitle:"Video Settings",initSettingForm:function(t,e){t.append('\n            <form class="form-horizontal">\n                <div class="mb-3">\n                    <label for="video-input" class="col-sm-12 form-label">Video file</label>\n                    <div class="col-sm-12">\n                        <div class="video-toolbar">\n                            <a href="#" class="btn-video-input btn btn-sm btn-primary"><i class="fa fa-upload"></i></a>\n                            <input class="video-input" type="file" style="display: none" />\n                        </div>\n                    </div>\n                </div>\n                <div class="mb-3">\n                    <label for="video-autoplay" class="col-sm-12 form-label">Autoplay</label>\n                    <div class="col-sm-12">\n                        <input type="checkbox" class="video-autoplay form-check-input" />\n                    </div>\n                </div>\n                <div class="mb-3">\n                    <label for="video-loop" class="col-sm-12 form-label">Loop</label>\n                    <div class="col-sm-12">\n                        <input type="checkbox" class="video-loop form-check-input" />\n                    </div>\n                </div>\n                <div class="mb-3">\n                    <label for="video-controls" class="col-sm-12 form-label">Show Controls</label>\n                    <div class="col-sm-12">\n                        <input type="checkbox" class="video-controls form-check-input" checked />\n                    </div>\n                </div>\n                <div class="mb-3">\n                    <label for="" class="col-sm-12 form-label">Ratio</label>\n                    <div class="col-sm-12">\n                        <div class="form-check">\n                            <input type="radio" name="video-radio" class="video-ratio form-check-input" value="4/3" checked />\n                            <label class="form-check-label">4:3</label>\n                        </div>\n                    </div>\n                    <div class="col-sm-12">\n                        <div class="form-check">\n                            <input type="radio" name="video-radio" class="video-ratio form-check-input" value="16/9" />\n                            <label class="form-check-label">16:9</label>\n                        </div>\n                    </div>\n                </div>\n                <div class="mb-3">\n                    <label for="video-width" class="col-sm-12 form-label">Width (px)</label>\n                    <div class="col-sm-12">\n                        <input type="number" class="video-width form-control" min="320" max="1920" value="320" />\n                    </div>\n                </div>\n            </form>\n        ');let n=t.find(".video-input");t.find(".btn-video-input").on("click",function(t){t.preventDefault(),n.trigger("click")}),n.on("change",function(){let t=this.files[0],n=e.getSettingComponent().find("video");/video/.test(t.type)?n.attr("src",URL.createObjectURL(t)):alert("Your selected file is not an video file!")}),t.find(".video-autoplay").on("click",function(){e.getSettingComponent().find("video").prop("autoplay",this.checked)}),t.find(".video-loop").on("click",function(){e.getSettingComponent().find("video").prop("loop",this.checked)}),t.find(".video-ratio").on("click",function(){e.getSettingComponent().find("video").attr("data-ratio",this.value),t.find(".video-width").trigger("change")}),t.find(".video-controls").on("click",function(){e.getSettingComponent().find("video").prop("controls",this.checked)}),t.find(".video-width").on("change",function(){let t=e.getSettingComponent().find("video"),n="16/9"===t.attr("data-ratio")?16/9:4/3,o=this.value/n;t.attr("width",this.value),t.attr("height",o)})},showSettingForm:function(t,e,n){let o=e.find("video");t.find(".video-autoplay").prop("checked",o.prop("autoplay")),t.find(".video-loop").prop("checked",o.prop("loop")),t.find(".video-ratio").prop("checked",!1).filter('[value="'+o.attr("data-ratio")+'"]').prop("checked",!0),t.find(".video-controls").prop("checked",o.prop("controls")),t.find(".video-width").val(o.attr("width"))}},Do.components.vimeo={init:function(t,e,n,o){let i=n.find("iframe"),a=i.parent();o.initIframeCover(i,a)},settingEnabled:!0,settingTitle:"Vimeo Settings",initSettingForm:function(t,e){t.append('<form class="form-horizontal">   <div class="mb-3">       <div class="col-sm-12">           <button type="button" class="btn w-100 btn-primary btn-vimeo-edit">Change Video</button>       </div>   </div>   <div class="mb-3">       <label class="col-sm-12 form-label">Autoplay</label>       <div class="col-sm-12">           <input type="checkbox" class="form-check-input" id="vimeo-autoplay" />       </div>   </div>   <div class="mb-3">       <label class="col-sm-12 form-label">Aspect Ratio</label>       <div class="col-sm-12">           <button type="button" class="btn btn-sm btn-secondary btn-vimeo-169">16:9</button>           <button type="button" class="btn btn-sm btn-secondary btn-vimeo-43">4:3</button>       </div>   </div></form>'),t.find(".btn-vimeo-edit").on("click",function(t){t.preventDefault();let n=prompt("Please enter Vimeo URL in here:").match(/https?:\/\/(?:www\.|player\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|video\/|)(\d+)(?:$|\/|\?)/);n&&n[3]?e.getSettingComponent().find("iframe").attr("src","https://player.vimeo.com/video/"+n[3]+"?byline=0&portrait=0&badge=0"):alert("Your Vimeo URL is invalid!")}),t.find(".btn-vimeo-169").on("click",function(t){t.preventDefault(),e.getSettingComponent().find(".ratio").removeClass("ratio-4x3").addClass("ratio-16x9")}),t.find(".btn-vimeo-43").on("click",function(t){t.preventDefault(),e.getSettingComponent().find(".ratio").removeClass("ratio-16x9").addClass("ratio-4x3")});let n=t.find("#vimeo-autoplay");n.on("click",function(){let t=e.getSettingComponent().find("iframe"),o=t.attr("src").replace(/(\?.+)+/,"")+"?byline=0&portrait=0&badge=0&autoplay="+(n.is(":checked")?1:0);t.attr("src",o)})},showSettingForm:function(t,e,n){let o=e.find("iframe"),i=t.find("#vimeo-autoplay"),a=o.attr("src");i.prop("checked",-1!==a.indexOf("autoplay=1"))}},Do.components.youtube={init:function(t,e,n,o){let i=n.find("iframe"),a=i.parent();o.initIframeCover(i,a)},settingEnabled:!0,settingTitle:"Youtube Settings",initSettingForm:function(t,e){t.append('<form class="form-horizontal">   <div class="mb-3">       <div class="col-sm-12">           <button type="button" class="btn w-100 btn-primary btn-youtube-edit">Change Video</button>       </div>   </div>   <div class="mb-3">       <label class="col-sm-12 form-label">Autoplay</label>       <div class="col-sm-12">           <input type="checkbox" class="form-check-input" id="youtube-autoplay" />       </div>   </div>   <div class="mb-3">       <label class="col-sm-12 form-label">Aspect Ratio</label>       <div class="col-sm-12">           <button type="button" class="btn btn-sm btn-secondary btn-youtube-169">16:9</button>           <button type="button" class="btn btn-sm btn-secondary btn-youtube-43">4:3</button>       </div>   </div></form>'),t.find(".btn-youtube-edit").on("click",function(t){t.preventDefault();let n=prompt("Please enter Youtube URL in here:").match(/^(?:http(?:s)?:\/\/)?(?:www\.)?(?:m\.)?(?:youtu\.be\/|youtube\.com\/(?:(?:watch)?\?(?:.*&)?v(?:i)?=|(?:embed|v|vi|user)\/))([^\?&\"'><]+)/);n&&n[1]?e.getSettingComponent().find("iframe").attr("src","https://www.youtube.com/embed/"+n[1]):alert("Your Youtube URL is invalid!")}),t.find(".btn-youtube-169").on("click",function(t){t.preventDefault(),e.getSettingComponent().find(".ratio").removeClass("ratio-4x3").addClass("ratio-16x9")}),t.find(".btn-youtube-43").on("click",function(t){t.preventDefault(),e.getSettingComponent().find(".ratio").removeClass("ratio-16x9").addClass("ratio-4x3")});let n=t.find("#youtube-autoplay");n.on("click",function(){let t=e.getSettingComponent().find("iframe"),o=t.attr("src").replace(/(\?.+)+/,"")+"?autoplay="+(n.is(":checked")?1:0);t.attr("src",o)})},showSettingForm:function(t,e,n){let o=e.find("iframe"),i=t.find("#youtube-autoplay"),a=o.attr("src");i.prop("checked",-1!==a.indexOf("autoplay=1"))}},Do.components.progress={settingEnabled:!0,settingTitle:"Progress Bar Settings",initSettingForm:function(t,e){t.append('\n            <form class="form-horizontal">\n                <div class="mb-3">\n                    <label class="col-sm-12 form-label">Value (%)</label>\n                    <div class="col-sm-12">\n                        <input type="range" class="form-range progress-value" min="0" max="100" value="50" />\n                        <span class="progress-value-display">50%</span>\n                    </div>\n                </div>\n                <div class="mb-3">\n                    <label class="col-sm-12 form-label">Label Text</label>\n                    <div class="col-sm-12">\n                        <input type="text" class="form-control progress-label-text" placeholder="Optional label (e.g. \'Loading...\')" />\n                    </div>\n                </div>\n                <div class="mb-3">\n                    <label class="col-sm-12 form-label">Color</label>\n                    <div class="col-sm-12">\n                        <select class="form-select progress-color">\n                            <option value="">Default (Primary)</option>\n                            <option value="bg-success">Success (Green)</option>\n                            <option value="bg-info">Info (Cyan)</option>\n                            <option value="bg-warning">Warning (Yellow)</option>\n                            <option value="bg-danger">Danger (Red)</option>\n                        </select>\n                    </div>\n                </div>\n                <div class="mb-3">\n                    <label class="col-sm-12 form-label">Height</label>\n                    <div class="col-sm-12">\n                        <select class="form-select progress-height">\n                            <option value="">Default</option>\n                            <option value="thin">Thin (4px)</option>\n                            <option value="thick">Thick (30px)</option>\n                        </select>\n                    </div>\n                </div>\n                <div class="mb-3">\n                    <label class="col-sm-12 form-label">Options</label>\n                    <div class="col-sm-12">\n                        <div class="form-check">\n                            <input type="checkbox" class="form-check-input progress-striped" id="progress-striped" />\n                            <label class="form-check-label" for="progress-striped">Striped</label>\n                        </div>\n                        <div class="form-check">\n                            <input type="checkbox" class="form-check-input progress-animated" id="progress-animated" />\n                            <label class="form-check-label" for="progress-animated">Animated</label>\n                        </div>\n                        <div class="form-check">\n                            <input type="checkbox" class="form-check-input progress-show-label" id="progress-show-label" checked />\n                            <label class="form-check-label" for="progress-show-label">Show Label</label>\n                        </div>\n                    </div>\n                </div>\n                <div class="mb-3">\n                    <label class="col-sm-12 form-label">Custom CSS Class</label>\n                    <div class="col-sm-12">\n                        <input type="text" class="form-control progress-css-class" placeholder="e.g. my-custom-progress" />\n                    </div>\n                </div>\n            </form>\n        ');let n=t.find(".progress-value"),o=t.find(".progress-value-display");n.on("input",function(){let t=this.value;o.text(t+"%");let n=e.getSettingComponent(),i=n.find(".progress-bar"),a=n.find(".progress-label");i.css("width",t+"%").attr("aria-valuenow",t),a.attr("data-custom-text")||a.text(t+"%")}),t.find(".progress-label-text").on("input",function(){let t=e.getSettingComponent(),n=t.find(".progress-label");if(this.value)n.attr("data-custom-text",this.value),n.text(this.value);else{n.removeAttr("data-custom-text");let e=t.find(".progress-bar").attr("aria-valuenow")||"50";n.text(e+"%")}}),t.find(".progress-color").on("change",function(){let t=e.getSettingComponent().find(".progress-bar");t.removeClass("bg-success bg-info bg-warning bg-danger"),this.value&&t.addClass(this.value)}),t.find(".progress-height").on("change",function(){let t=e.getSettingComponent().find(".progress");t.css("height",""),"thin"===this.value?t.css("height","4px"):"thick"===this.value&&t.css("height","30px")}),t.find(".progress-striped").on("change",function(){e.getSettingComponent().find(".progress-bar").toggleClass("progress-bar-striped",this.checked)}),t.find(".progress-animated").on("change",function(){e.getSettingComponent().find(".progress-bar").toggleClass("progress-bar-animated",this.checked)}),t.find(".progress-show-label").on("change",function(){let t=e.getSettingComponent(),n=t.find(".progress-label");if(this.checked){if(0===n.length){let e=t.find(".progress-bar").attr("aria-valuenow")||"50";t.find(".progress").after('<div class="progress-label text-center mt-1">'+e+"%</div>")}}else n.remove()}),t.find(".progress-css-class").on("input",function(){let t=e.getSettingComponent().find(".progress-wrapper"),n=t.attr("data-custom-class")||"";n&&t.removeClass(n),t.attr("data-custom-class",this.value),t.addClass(this.value)})},showSettingForm:function(t,e,n){let o=e.find(".progress-bar"),i=o.attr("aria-valuenow")||"50";t.find(".progress-value").val(i),t.find(".progress-value-display").text(i+"%");let a=e.find(".progress-label").attr("data-custom-text")||"";t.find(".progress-label-text").val(a),o.hasClass("bg-success")?t.find(".progress-color").val("bg-success"):o.hasClass("bg-info")?t.find(".progress-color").val("bg-info"):o.hasClass("bg-warning")?t.find(".progress-color").val("bg-warning"):o.hasClass("bg-danger")?t.find(".progress-color").val("bg-danger"):t.find(".progress-color").val("");let l=e.find(".progress").css("height");"4px"===l?t.find(".progress-height").val("thin"):"30px"===l?t.find(".progress-height").val("thick"):t.find(".progress-height").val(""),t.find(".progress-striped").prop("checked",o.hasClass("progress-bar-striped")),t.find(".progress-animated").prop("checked",o.hasClass("progress-bar-animated")),t.find(".progress-show-label").prop("checked",e.find(".progress-label").length>0),t.find(".progress-css-class").val(e.find(".progress-wrapper").attr("data-custom-class")||"")}},Do.components.alert={settingEnabled:!0,settingTitle:"Alert Settings",initSettingForm:function(t,e){t.append('\n            <form class="form-horizontal">\n                <div class="mb-3">\n                    <label class="col-sm-12 form-label">Title</label>\n                    <div class="col-sm-12">\n                        <input type="text" class="form-control alert-title" placeholder="e.g. Success!" />\n                    </div>\n                </div>\n                <div class="mb-3">\n                    <label class="col-sm-12 form-label">Message</label>\n                    <div class="col-sm-12">\n                        <textarea class="form-control alert-message" rows="2" placeholder="Alert message..."></textarea>\n                    </div>\n                </div>\n                <div class="mb-3">\n                    <label class="col-sm-12 form-label">Alert Type</label>\n                    <div class="col-sm-12">\n                        <select class="form-select alert-type">\n                            <option value="alert-primary">Primary</option>\n                            <option value="alert-secondary">Secondary</option>\n                            <option value="alert-success">Success</option>\n                            <option value="alert-danger">Danger</option>\n                            <option value="alert-warning">Warning</option>\n                            <option value="alert-info">Info</option>\n                            <option value="alert-light">Light</option>\n                            <option value="alert-dark">Dark</option>\n                        </select>\n                    </div>\n                </div>\n                <div class="mb-3">\n                    <label class="col-sm-12 form-label">Icon</label>\n                    <div class="col-sm-12">\n                        <select class="form-select alert-icon">\n                            <option value="">None</option>\n                            <option value="fa-check-circle"> Check Circle</option>\n                            <option value="fa-info-circle"> Info Circle</option>\n                            <option value="fa-exclamation-triangle"> Warning</option>\n                            <option value="fa-times-circle"> Error</option>\n                        </select>\n                    </div>\n                </div>\n                <div class="mb-3">\n                    <label class="col-sm-12 form-label">Options</label>\n                    <div class="col-sm-12">\n                        <div class="form-check">\n                            <input type="checkbox" class="form-check-input alert-dismissible-check" id="alert-dismissible" />\n                            <label class="form-check-label" for="alert-dismissible">Dismissible</label>\n                        </div>\n                    </div>\n                </div>\n                <div class="mb-3">\n                    <label class="col-sm-12 form-label">Custom CSS Class</label>\n                    <div class="col-sm-12">\n                        <input type="text" class="form-control alert-css-class" placeholder="e.g. my-custom-alert" />\n                    </div>\n                </div>\n            </form>\n        '),t.find(".alert-title").on("input",function(){let t=e.getSettingComponent().find(".alert"),n=t.find("strong");0===n.length&&(t.prepend("<strong></strong> "),n=t.find("strong")),n.text(this.value)}),t.find(".alert-message").on("input",function(){let t=e.getSettingComponent().find(".alert"),n=t.find("strong"),o=t.find(".btn-close"),i=this.value;t.contents().filter(function(){return 3===this.nodeType}).remove(),n.length?n.after(" "+i):o.length?o.before(i):t.append(i)}),t.find(".alert-type").on("change",function(){let t=e.getSettingComponent().find(".alert");t.removeClass("alert-primary alert-secondary alert-success alert-danger alert-warning alert-info alert-light alert-dark"),t.addClass(this.value)}),t.find(".alert-icon").on("change",function(){let t=e.getSettingComponent().find(".alert"),n=t.find("i.fa");this.value?0===n.length?t.prepend('<i class="fa '+this.value+' me-2"></i>'):n.attr("class","fa "+this.value+" me-2"):n.remove()}),t.find(".alert-dismissible-check").on("change",function(){let t=e.getSettingComponent().find(".alert");this.checked?(t.addClass("alert-dismissible fade show"),0===t.find(".btn-close").length&&t.append('<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>')):(t.removeClass("alert-dismissible fade show"),t.find(".btn-close").remove())}),t.find(".alert-css-class").on("input",function(){let t=e.getSettingComponent().find(".alert"),n=t.attr("data-custom-class")||"";n&&t.removeClass(n),t.attr("data-custom-class",this.value),t.addClass(this.value)})},showSettingForm:function(t,e,n){let o=e.find(".alert"),i=o.find("strong");t.find(".alert-title").val(i.text());let a=o.clone().children().remove().end().text().trim();t.find(".alert-message").val(a);let l=["alert-primary","alert-secondary","alert-success","alert-danger","alert-warning","alert-info","alert-light","alert-dark"];for(let c of l)if(o.hasClass(c)){t.find(".alert-type").val(c);break}let s=o.find("i.fa");if(s.length){let e=s.attr("class").replace("fa ","").replace(" me-2","");t.find(".alert-icon").val(e)}else t.find(".alert-icon").val("");t.find(".alert-dismissible-check").prop("checked",o.hasClass("alert-dismissible")),t.find(".alert-css-class").val(o.attr("data-custom-class")||"")}},Do.components.list={settingEnabled:!0,settingTitle:"List Group Settings",initSettingForm:function(t,e){t.append('\n            <form class="form-horizontal">\n                <div class="mb-3">\n                    <label class="col-sm-12 form-label">Style</label>\n                    <div class="col-sm-12">\n                        <select class="form-select list-style">\n                            <option value="">Default</option>\n                            <option value="list-group-flush">Flush (no borders)</option>\n                            <option value="list-group-numbered">Numbered</option>\n                        </select>\n                    </div>\n                </div>\n                <div class="mb-3">\n                    <label class="col-sm-12 form-label">Items</label>\n                    <div class="col-sm-12">\n                        <div class="list-items-editor"></div>\n                        <button type="button" class="btn btn-sm btn-primary btn-add-item w-100 mt-2">+ Add Item</button>\n                    </div>\n                </div>\n                <div class="mb-3">\n                    <label class="col-sm-12 form-label">Custom CSS Class</label>\n                    <div class="col-sm-12">\n                        <input type="text" class="form-control list-css-class" placeholder="e.g. my-custom-list" />\n                    </div>\n                </div>\n            </form>\n        ');let n=this;t.find(".list-style").on("change",function(){let t=e.getSettingComponent().find(".list-group");t.removeClass("list-group-flush list-group-numbered"),this.value&&t.addClass(this.value)}),t.find(".btn-add-item").on("click",function(){e.getSettingComponent().find(".list-group").append('<li class="list-group-item">New Item</li>'),n.refreshItemsEditor(t,e)}),t.find(".list-css-class").on("input",function(){let t=e.getSettingComponent().find(".list-group"),n=t.attr("data-custom-class")||"";n&&t.removeClass(n),t.attr("data-custom-class",this.value),t.addClass(this.value)})},refreshItemsEditor:function(t,e){let n=e.getSettingComponent().find(".list-group"),o=t.find(".list-items-editor");o.empty(),n.find(".list-group-item").each(function(t){let e=$(this),n=$(`\n                <div class="input-group input-group-sm mb-1">\n                    <input type="text" class="form-control item-text" value="${e.text()}" data-index="${t}" />\n                    <button type="button" class="btn btn-outline-danger btn-remove-item" data-index="${t}"></button>\n                </div>\n            `);o.append(n)}),o.find(".item-text").on("input",function(){let t=$(this).data("index");e.getSettingComponent().find(".list-group-item").eq(t).text(this.value)}),o.find(".btn-remove-item").on("click",function(){let n=$(this).data("index");e.getSettingComponent().find(".list-group-item").eq(n).remove(),Do.components.list.refreshItemsEditor(t,e)})},showSettingForm:function(t,e,n){let o=e.find(".list-group");o.hasClass("list-group-flush")?t.find(".list-style").val("list-group-flush"):o.hasClass("list-group-numbered")?t.find(".list-style").val("list-group-numbered"):t.find(".list-style").val(""),t.find(".list-css-class").val(o.attr("data-custom-class")||""),this.refreshItemsEditor(t,n)}},Do.components.breadcrumbs={settingEnabled:!0,settingTitle:"Breadcrumb Settings",initSettingForm:function(t,e){t.append('\n            <form class="form-horizontal">\n                <div class="mb-3">\n                    <label class="col-sm-12 form-label">Divider</label>\n                    <div class="col-sm-12">\n                        <select class="form-select breadcrumb-divider">\n                            <option value="/">/</option>\n                            <option value=""></option>\n                            <option value=""></option>\n                            <option value="|">|</option>\n                        </select>\n                    </div>\n                </div>\n                <div class="mb-3">\n                    <label class="col-sm-12 form-label">Breadcrumb Items</label>\n                    <div class="col-sm-12">\n                        <div class="breadcrumb-items-editor"></div>\n                        <button type="button" class="btn btn-sm btn-primary btn-add-crumb w-100 mt-2">+ Add Breadcrumb</button>\n                    </div>\n                </div>\n                <div class="mb-3">\n                    <label class="col-sm-12 form-label">Custom CSS Class</label>\n                    <div class="col-sm-12">\n                        <input type="text" class="form-control breadcrumb-css-class" placeholder="e.g. my-custom-breadcrumb" />\n                    </div>\n                </div>\n            </form>\n        ');let n=this;t.find(".breadcrumb-divider").on("change",function(){e.getSettingComponent().find("nav").css("--bs-breadcrumb-divider","'"+this.value+"'")}),t.find(".btn-add-crumb").on("click",function(){let o=e.getSettingComponent().find(".breadcrumb"),i=o.find(".breadcrumb-item").last();if(i.hasClass("active")){i.removeClass("active").removeAttr("aria-current");let t=i.text();i.html('<a href="#">'+t+"</a>")}o.append('<li class="breadcrumb-item active" aria-current="page">New Page</li>'),n.refreshItemsEditor(t,e)}),t.find(".breadcrumb-css-class").on("input",function(){let t=e.getSettingComponent().find("nav"),n=t.attr("data-custom-class")||"";n&&t.removeClass(n),t.attr("data-custom-class",this.value),t.addClass(this.value)})},refreshItemsEditor:function(t,e){let n=e.getSettingComponent().find(".breadcrumb"),o=t.find(".breadcrumb-items-editor");o.empty(),n.find(".breadcrumb-item").each(function(t){let e=$(this),n=e.find("a").length?e.find("a").text():e.text(),i=e.find("a").attr("href")||"",a=e.hasClass("active"),l=$(`\n                <div class="card card-body p-2 mb-1">\n                    <div class="input-group input-group-sm mb-1">\n                        <span class="input-group-text">Text</span>\n                        <input type="text" class="form-control crumb-text" value="${n}" data-index="${t}" />\n                        <button type="button" class="btn btn-outline-danger btn-remove-crumb" data-index="${t}"></button>\n                    </div>\n                    ${a?'<small class="text-muted">Active (current page)</small>':`\n                    <div class="input-group input-group-sm">\n                        <span class="input-group-text">Link</span>\n                        <input type="text" class="form-control crumb-link" value="${i}" data-index="${t}" />\n                    </div>\n                    `}\n                </div>\n            `);o.append(l)}),o.find(".crumb-text").on("input",function(){let t=$(this).data("index"),n=e.getSettingComponent().find(".breadcrumb-item").eq(t);n.find("a").length?n.find("a").text(this.value):n.text(this.value)}),o.find(".crumb-link").on("input",function(){let t=$(this).data("index");e.getSettingComponent().find(".breadcrumb-item").eq(t).find("a").attr("href",this.value)}),o.find(".btn-remove-crumb").on("click",function(){let n=$(this).data("index"),o=e.getSettingComponent().find(".breadcrumb-item");if(o.length>1){o.eq(n).remove();let i=e.getSettingComponent().find(".breadcrumb-item").last();if(!i.hasClass("active")){i.addClass("active").attr("aria-current","page");let t=i.find("a").text();i.html(t)}Do.components.breadcrumbs.refreshItemsEditor(t,e)}})},showSettingForm:function(t,e,n){let o=e.find("nav"),i=o.css("--bs-breadcrumb-divider")||"/";i=i.replace(/'/g,""),t.find(".breadcrumb-divider").val(i),t.find(".breadcrumb-css-class").val(o.attr("data-custom-class")||""),this.refreshItemsEditor(t,n)}},Do.components.pricing={settingEnabled:!0,settingTitle:"Pricing Table Settings",initSettingForm:function(t,e){t.append('\n            <form class="form-horizontal">\n                <div class="mb-3">\n                    <label class="col-sm-12 form-label">Pricing Tiers</label>\n                    <div class="col-sm-12">\n                        <div class="pricing-tiers-editor"></div>\n                        <button type="button" class="btn btn-sm btn-primary btn-add-tier w-100 mt-2">+ Add Tier</button>\n                    </div>\n                </div>\n                <div class="mb-3">\n                    <label class="col-sm-12 form-label">Custom CSS Class</label>\n                    <div class="col-sm-12">\n                        <input type="text" class="form-control pricing-css-class" placeholder="e.g. my-custom-pricing" />\n                    </div>\n                </div>\n            </form>\n        ');let n=this;t.find(".btn-add-tier").on("click",function(){e.getSettingComponent().find(".pricing-row").append('\n                <div class="col-12 col-md pricing-col">\n                    <div class="card text-center">\n                        <div class="card-header">New Tier</div>\n                        <div class="card-body">\n                            <h5 class="card-title pricing-amount">$0/mo</h5>\n                            <ul class="list-unstyled pricing-features">\n                                <li>Feature 1</li>\n                            </ul>\n                            <a href="#" class="btn btn-outline-primary pricing-btn">Select</a>\n                        </div>\n                    </div>\n                </div>\n            '),n.refreshTiersEditor(t,e)}),t.find(".pricing-css-class").on("input",function(){let t=e.getSettingComponent().find(".pricing-row"),n=t.attr("data-custom-class")||"";n&&t.removeClass(n),t.attr("data-custom-class",this.value),t.addClass(this.value)})},refreshTiersEditor:function(t,e){let n=t.find(".pricing-tiers-editor");n.empty(),e.getSettingComponent().find(".pricing-col").each(function(t){let e=$(this),o=e.find(".card-header").text(),i=e.find(".pricing-amount").text(),a=e.find(".pricing-btn").text()||e.find(".card-body .btn").text(),l=e.find(".pricing-btn").attr("href")||e.find(".card-body .btn").attr("href")||"#",s=e.find(".card").hasClass("border-primary"),c=[];e.find(".pricing-features li, .list-unstyled li").each(function(){c.push($(this).text())});let r=$(`\n                <div class="card mb-2" data-index="${t}">\n                    <div class="card-header p-2 d-flex justify-content-between align-items-center">\n                        <span>Tier ${t+1}: ${o}</span>\n                        <button type="button" class="btn btn-sm btn-outline-danger btn-remove-tier" data-index="${t}"></button>\n                    </div>\n                    <div class="card-body p-2">\n                        <div class="mb-2">\n                            <input type="text" class="form-control form-control-sm tier-name" value="${o}" data-index="${t}" placeholder="Tier Name" />\n                        </div>\n                        <div class="mb-2">\n                            <input type="text" class="form-control form-control-sm tier-price" value="${i}" data-index="${t}" placeholder="e.g. $19/mo" />\n                        </div>\n                        <div class="mb-2">\n                            <textarea class="form-control form-control-sm tier-features" rows="3" data-index="${t}" placeholder="One feature per line">${c.join("\n")}</textarea>\n                        </div>\n                        <div class="row g-1 mb-2">\n                            <div class="col-6">\n                                <input type="text" class="form-control form-control-sm tier-btn-text" value="${a}" data-index="${t}" placeholder="Button Text" />\n                            </div>\n                            <div class="col-6">\n                                <input type="text" class="form-control form-control-sm tier-btn-link" value="${l}" data-index="${t}" placeholder="Button Link" />\n                            </div>\n                        </div>\n                        <div class="form-check">\n                            <input type="checkbox" class="form-check-input tier-featured" data-index="${t}" ${s?"checked":""} />\n                            <label class="form-check-label">Featured</label>\n                        </div>\n                    </div>\n                </div>\n            `);n.append(r)}),n.find(".tier-name").on("input",function(){let t=$(this).data("index");e.getSettingComponent().find(".pricing-col").eq(t).find(".card-header").text(this.value)}),n.find(".tier-price").on("input",function(){let t=$(this).data("index");e.getSettingComponent().find(".pricing-col").eq(t).find(".pricing-amount, .card-title").first().text(this.value)}),n.find(".tier-features").on("input",function(){let t=$(this).data("index"),n=this.value.split("\n").filter(t=>t.trim()),o=e.getSettingComponent().find(".pricing-col").eq(t).find(".pricing-features, .list-unstyled").first();o.empty(),n.forEach(t=>o.append("<li>"+t+"</li>"))}),n.find(".tier-btn-text").on("input",function(){let t=$(this).data("index");e.getSettingComponent().find(".pricing-col").eq(t).find(".pricing-btn, .card-body .btn").first().text(this.value)}),n.find(".tier-btn-link").on("input",function(){let t=$(this).data("index");e.getSettingComponent().find(".pricing-col").eq(t).find(".pricing-btn, .card-body .btn").first().attr("href",this.value)}),n.find(".tier-featured").on("change",function(){let t=$(this).data("index"),n=e.getSettingComponent().find(".pricing-col").eq(t).find(".card"),o=n.find(".card-header"),i=n.find(".pricing-btn, .card-body .btn").first();this.checked?(n.addClass("border-primary"),o.addClass("bg-primary text-white"),i.removeClass("btn-outline-primary").addClass("btn-primary")):(n.removeClass("border-primary"),o.removeClass("bg-primary text-white"),i.removeClass("btn-primary").addClass("btn-outline-primary"))}),n.find(".btn-remove-tier").on("click",function(){let n=$(this).data("index"),o=e.getSettingComponent().find(".pricing-col");if(o.length>1){o.eq(n).remove(),Do.components.pricing.refreshTiersEditor(t,e)}})},showSettingForm:function(t,e,n){t.find(".pricing-css-class").val(e.find(".pricing-row").attr("data-custom-class")||""),this.refreshTiersEditor(t,n)}},Do.components.team={settingEnabled:!0,settingTitle:"Team Member Settings",initSettingForm:function(t,e){t.append('\n            <form class="form-horizontal">\n                <div class="mb-3">\n                    <label class="col-sm-12 form-label">Layout</label>\n                    <div class="col-sm-12">\n                        <select class="form-select team-layout">\n                            <option value="3">3 per Row</option>\n                            <option value="4">4 per Row</option>\n                            <option value="2">2 per Row</option>\n                        </select>\n                    </div>\n                </div>\n                <div class="mb-3">\n                    <label class="col-sm-12 form-label">Team Members</label>\n                    <div class="col-sm-12">\n                        <div class="team-members-editor"></div>\n                        <button type="button" class="btn btn-sm btn-primary btn-add-member w-100 mt-2">+ Add Member</button>\n                    </div>\n                </div>\n                <div class="mb-3">\n                    <label class="col-sm-12 form-label">Custom CSS Class</label>\n                    <div class="col-sm-12">\n                        <input type="text" class="form-control team-css-class" placeholder="e.g. my-custom-team" />\n                    </div>\n                </div>\n            </form>\n        ');let n=this;t.find(".team-layout").on("change",function(){let t=parseInt(this.value),n=2===t?"col-12 col-md-6":3===t?"col-12 col-md-4":"col-12 col-md-3";e.getSettingComponent().find(".team-member").each(function(){$(this).attr("class","team-member "+n)})}),t.find(".btn-add-member").on("click",function(){e.getSettingComponent().find(".team-row").append('\n                <div class="team-member col-12 col-md-4">\n                    <div class="card text-center shadow-sm">\n                        <img src="https://placehold.co/150" class="card-img-top rounded-circle mx-auto mt-3" style="width: 100px; height: 100px;" alt="Team Member">\n                        <div class="card-body">\n                            <h5 class="card-title member-name">New Member</h5>\n                            <p class="card-text text-muted member-role">Role / Position</p>\n                            <div class="social-links"></div>\n                        </div>\n                    </div>\n                </div>\n            '),n.refreshMembersEditor(t,e)}),t.find(".team-css-class").on("input",function(){let t=e.getSettingComponent().find(".team-row"),n=t.attr("data-custom-class")||"";n&&t.removeClass(n),t.attr("data-custom-class",this.value),t.addClass(this.value)})},refreshMembersEditor:function(t,e){let n=t.find(".team-members-editor");n.empty(),e.getSettingComponent().find(".team-member").each(function(t){let e=$(this),o=e.find(".card-title, .member-name").text(),i=e.find(".card-text, .member-role").text(),a=e.find("img").attr("src"),l=$(`\n                <div class="card mb-2" data-index="${t}">\n                    <div class="card-header p-2 d-flex justify-content-between align-items-center">\n                        <span>Member ${t+1}: ${o}</span>\n                        <button type="button" class="btn btn-sm btn-outline-danger btn-remove-member" data-index="${t}"></button>\n                    </div>\n                    <div class="card-body p-2">\n                        <div class="mb-2">\n                            <label class="form-label form-label-sm">Photo URL</label>\n                            <input type="text" class="form-control form-control-sm member-img" value="${a}" data-index="${t}" placeholder="Image URL" />\n                        </div>\n                        <div class="mb-2">\n                            <label class="form-label form-label-sm">Name</label>\n                            <input type="text" class="form-control form-control-sm member-name-input" value="${o}" data-index="${t}" placeholder="Name" />\n                        </div>\n                        <div class="mb-2">\n                            <label class="form-label form-label-sm">Role / Position</label>\n                            <input type="text" class="form-control form-control-sm member-role-input" value="${i}" data-index="${t}" placeholder="Role" />\n                        </div>\n                    </div>\n                </div>\n            `);n.append(l)}),n.find(".member-img").on("input",function(){let t=$(this).data("index");e.getSettingComponent().find(".team-member").eq(t).find("img").attr("src",this.value)}),n.find(".member-name-input").on("input",function(){let t=$(this).data("index");e.getSettingComponent().find(".team-member").eq(t).find(".card-title, .member-name").text(this.value)}),n.find(".member-role-input").on("input",function(){let t=$(this).data("index");e.getSettingComponent().find(".team-member").eq(t).find(".card-text, .member-role").text(this.value)}),n.find(".btn-remove-member").on("click",function(){let n=$(this).data("index"),o=e.getSettingComponent().find(".team-member");if(o.length>1){o.eq(n).remove(),Do.components.team.refreshMembersEditor(t,e)}})},showSettingForm:function(t,e,n){let o=e.find(".team-member");o.first().hasClass("col-md-6")?t.find(".team-layout").val("2"):o.first().hasClass("col-md-3")?t.find(".team-layout").val("4"):t.find(".team-layout").val("3"),t.find(".team-css-class").val(e.find(".team-row").attr("data-custom-class")||""),this.refreshMembersEditor(t,n)}},Do.components.countdown={settingEnabled:!0,settingTitle:"Countdown Timer Settings",init:function(t,e,n,o){this.startCountdown(n)},startCountdown:function(t){let e=t.find(".countdown-timer");if(!e.attr("data-target-date")){let t=new Date;t.setDate(t.getDate()+7);let n=t.toISOString().slice(0,16);e.attr("data-target-date",n)}e.data("interval")&&clearInterval(e.data("interval"));let n=e[0],o=function(){let t=n.getAttribute("data-target-date");if(!t)return;let e=(new Date).getTime(),o=new Date(t).getTime()-e,i=n.querySelector(".countdown-days"),a=n.querySelector(".countdown-hours"),l=n.querySelector(".countdown-minutes"),s=n.querySelector(".countdown-seconds"),c=n.getAttribute("data-expired-message");if(o<0){if(c){n.querySelector(".countdown-expired")||(n.innerHTML='<div class="countdown-expired alert alert-warning text-center">'+c+"</div>")}else i&&(i.textContent="00"),a&&(a.textContent="00"),l&&(l.textContent="00"),s&&(s.textContent="00");return}let r=Math.floor(o/864e5),d=Math.floor(o%864e5/36e5),p=Math.floor(o%36e5/6e4),f=Math.floor(o%6e4/1e3);i&&(i.textContent=r.toString().padStart(2,"0")),a&&(a.textContent=d.toString().padStart(2,"0")),l&&(l.textContent=p.toString().padStart(2,"0")),s&&(s.textContent=f.toString().padStart(2,"0"))};o();let i=setInterval(o,1e3);e.data("interval",i)},initSettingForm:function(t,e){let n=(new Date).toISOString().slice(0,16);t.append(`\n            <form class="form-horizontal">\n                <div class="mb-3">\n                    <label class="col-sm-12 form-label">Target Date & Time</label>\n                    <div class="col-sm-12">\n                        <input type="datetime-local" class="form-control countdown-date" min="${n}" />\n                    </div>\n                </div>\n                <div class="mb-3">\n                    <label class="col-sm-12 form-label">Labels</label>\n                    <div class="col-sm-12">\n                        <div class="row g-1">\n                            <div class="col-3"><input type="text" class="form-control form-control-sm label-days" placeholder="days" /></div>\n                            <div class="col-3"><input type="text" class="form-control form-control-sm label-hours" placeholder="hours" /></div>\n                            <div class="col-3"><input type="text" class="form-control form-control-sm label-mins" placeholder="mins" /></div>\n                            <div class="col-3"><input type="text" class="form-control form-control-sm label-secs" placeholder="secs" /></div>\n                        </div>\n                    </div>\n                </div>\n                <div class="mb-3">\n                    <label class="col-sm-12 form-label">Expired Message</label>\n                    <div class="col-sm-12">\n                        <input type="text" class="form-control countdown-expired-msg" placeholder="e.g. Event has ended!" />\n                    </div>\n                </div>\n                <div class="mb-3">\n                    <label class="col-sm-12 form-label">Color Theme</label>\n                    <div class="col-sm-12">\n                        <select class="form-select countdown-color">\n                            <option value="bg-primary">Primary (Blue)</option>\n                            <option value="bg-success">Success (Green)</option>\n                            <option value="bg-danger">Danger (Red)</option>\n                            <option value="bg-warning text-dark">Warning (Yellow)</option>\n                            <option value="bg-dark">Dark</option>\n                        </select>\n                    </div>\n                </div>\n                <div class="mb-3">\n                    <label class="col-sm-12 form-label">Style</label>\n                    <div class="col-sm-12">\n                        <select class="form-select countdown-style">\n                            <option value="boxes">Boxes</option>\n                            <option value="inline">Inline</option>\n                        </select>\n                    </div>\n                </div>\n                <div class="mb-3">\n                    <label class="col-sm-12 form-label">Custom CSS Class</label>\n                    <div class="col-sm-12">\n                        <input type="text" class="form-control countdown-css-class" placeholder="e.g. my-custom-countdown" />\n                    </div>\n                </div>\n            </form>\n        `),t.find(".countdown-date").on("change",function(){e.getSettingComponent().find(".countdown-timer").attr("data-target-date",this.value)}),t.find(".label-days").on("input",function(){e.getSettingComponent().find(".countdown-box .countdown-label").eq(0).text(this.value||"days")}),t.find(".label-hours").on("input",function(){e.getSettingComponent().find(".countdown-box .countdown-label").eq(1).text(this.value||"hours")}),t.find(".label-mins").on("input",function(){e.getSettingComponent().find(".countdown-box .countdown-label").eq(2).text(this.value||"mins")}),t.find(".label-secs").on("input",function(){e.getSettingComponent().find(".countdown-box .countdown-label").eq(3).text(this.value||"secs")}),t.find(".countdown-expired-msg").on("input",function(){e.getSettingComponent().find(".countdown-timer").attr("data-expired-message",this.value)}),t.find(".countdown-color").on("change",function(){let t=e.getSettingComponent().find(".countdown-box");t.removeClass("bg-primary bg-success bg-danger bg-warning bg-dark text-dark text-white"),t.addClass(this.value),this.value.includes("warning")?t.removeClass("text-white"):t.addClass("text-white")}),t.find(".countdown-style").on("change",function(){let t=e.getSettingComponent().find(".countdown-timer");t.removeClass("countdown-boxes countdown-inline"),t.addClass("countdown-"+this.value)}),t.find(".countdown-css-class").on("input",function(){let t=e.getSettingComponent().find(".countdown-timer"),n=t.attr("data-custom-class")||"";n&&t.removeClass(n),t.attr("data-custom-class",this.value),t.addClass(this.value)})},showSettingForm:function(t,e,n){let o=e.find(".countdown-timer"),i=o.attr("data-target-date")||"";t.find(".countdown-date").val(i);let a=e.find(".countdown-box .countdown-label");a.length>=4&&(t.find(".label-days").val(a.eq(0).text()),t.find(".label-hours").val(a.eq(1).text()),t.find(".label-mins").val(a.eq(2).text()),t.find(".label-secs").val(a.eq(3).text())),t.find(".countdown-expired-msg").val(o.attr("data-expired-message")||"");let l=e.find(".countdown-box").first();l.hasClass("bg-success")?t.find(".countdown-color").val("bg-success"):l.hasClass("bg-danger")?t.find(".countdown-color").val("bg-danger"):l.hasClass("bg-warning")?t.find(".countdown-color").val("bg-warning text-dark"):l.hasClass("bg-dark")?t.find(".countdown-color").val("bg-dark"):t.find(".countdown-color").val("bg-primary"),o.hasClass("countdown-inline")?t.find(".countdown-style").val("inline"):t.find(".countdown-style").val("boxes"),t.find(".countdown-css-class").val(o.attr("data-custom-class")||"")}},Do.components.carousel={settingEnabled:!0,settingTitle:"Carousel Settings",init:function(t,e,n,o){this.initSwiper(n)},initSwiper:function(t){if("undefined"!=typeof Swiper){let e=t.find(".swiper")[0];if(e){e.swiper&&e.swiper.destroy(!0,!0);let n=t.find(".swiper-pagination")[0],o=t.find(".swiper-button-prev")[0],i=t.find(".swiper-button-next")[0];new Swiper(e,{slidesPerView:1,spaceBetween:0,loop:!0,autoplay:{delay:parseInt($(e).attr("data-delay")||5e3),disableOnInteraction:!1},pagination:{el:n,clickable:!0},navigation:{nextEl:i,prevEl:o}})}}},initSettingForm:function(t,e){let n=this;t.append('\n            <form class="form-horizontal">\n                <div class="mb-3">\n                    <label class="col-sm-12 form-label">Autoplay Delay (ms)</label>\n                    <div class="col-sm-12">\n                        <input type="number" class="form-control carousel-delay" min="1000" max="10000" step="500" value="5000" />\n                    </div>\n                </div>\n                <div class="mb-3">\n                    <label class="col-sm-12 form-label">Options</label>\n                    <div class="col-sm-12">\n                        <div class="form-check">\n                            <input type="checkbox" class="form-check-input carousel-pagination" id="carousel-pagination" checked />\n                            <label class="form-check-label" for="carousel-pagination">Show Pagination</label>\n                        </div>\n                        <div class="form-check">\n                            <input type="checkbox" class="form-check-input carousel-navigation" id="carousel-navigation" checked />\n                            <label class="form-check-label" for="carousel-navigation">Show Navigation</label>\n                        </div>\n                    </div>\n                </div>\n                <div class="mb-3">\n                    <label class="col-sm-12 form-label">Slides</label>\n                    <div class="col-sm-12">\n                        <div class="slides-editor"></div>\n                        <button type="button" class="btn btn-sm btn-primary btn-add-slide w-100 mt-2">+ Add Slide</button>\n                    </div>\n                </div>\n                <div class="mb-3">\n                    <label class="col-sm-12 form-label">Custom CSS Class</label>\n                    <div class="col-sm-12">\n                        <input type="text" class="form-control carousel-css-class" placeholder="e.g. my-custom-carousel" />\n                    </div>\n                </div>\n            </form>\n        '),t.find(".carousel-delay").on("change",function(){e.getSettingComponent().find(".swiper").attr("data-delay",this.value),n.initSwiper(e.getSettingComponent())}),t.find(".carousel-pagination").on("change",function(){e.getSettingComponent().find(".swiper-pagination").toggle(this.checked)}),t.find(".carousel-navigation").on("change",function(){e.getSettingComponent().find(".swiper-button-next, .swiper-button-prev").toggle(this.checked)}),t.find(".btn-add-slide").on("click",function(){e.getSettingComponent().find(".swiper-wrapper").append('\n                <div class="swiper-slide">\n                    <div class="testimonial-slide text-center p-4">\n                        <img src="https://placehold.co/80" class="rounded-circle mb-3 slide-avatar" alt="Avatar">\n                        <blockquote class="blockquote">\n                            <p class="slide-quote">"New testimonial quote here."</p>\n                        </blockquote>\n                        <footer class="blockquote-footer slide-author">Author Name, <cite class="slide-title">Title</cite></footer>\n                    </div>\n                </div>\n            '),n.initSwiper(e.getSettingComponent()),n.refreshSlidesEditor(t,e)}),t.find(".carousel-css-class").on("input",function(){let t=e.getSettingComponent().find(".swiper"),n=t.attr("data-custom-class")||"";n&&t.removeClass(n),t.attr("data-custom-class",this.value),t.addClass(this.value)})},refreshSlidesEditor:function(t,e){let n=t.find(".slides-editor");n.empty(),e.getSettingComponent().find(".swiper-slide").each(function(t){let e=$(this),o=e.find("img").attr("src")||"",i=e.find(".blockquote p, .slide-quote").text()||"",a=e.find(".blockquote-footer").clone();a.find("cite").remove();let l=a.text().replace(",","").trim(),s=e.find("cite").text()||"",c=$(`\n                <div class="card mb-2" data-index="${t}">\n                    <div class="card-header p-2 d-flex justify-content-between align-items-center">\n                        <span>Slide ${t+1}</span>\n                        <button type="button" class="btn btn-sm btn-outline-danger btn-remove-slide" data-index="${t}"></button>\n                    </div>\n                    <div class="card-body p-2">\n                        <div class="mb-2">\n                            <input type="text" class="form-control form-control-sm slide-img" value="${o}" data-index="${t}" placeholder="Avatar URL" />\n                        </div>\n                        <div class="mb-2">\n                            <textarea class="form-control form-control-sm slide-quote-input" rows="2" data-index="${t}" placeholder="Quote text">${i}</textarea>\n                        </div>\n                        <div class="mb-2">\n                            <input type="text" class="form-control form-control-sm slide-author-input" value="${l}" data-index="${t}" placeholder="Author Name" />\n                        </div>\n                        <div class="mb-2">\n                            <input type="text" class="form-control form-control-sm slide-title-input" value="${s}" data-index="${t}" placeholder="Author Title" />\n                        </div>\n                    </div>\n                </div>\n            `);n.append(c)});let o=this;n.find(".slide-img").on("input",function(){let t=$(this).data("index");e.getSettingComponent().find(".swiper-slide").eq(t).find("img").attr("src",this.value)}),n.find(".slide-quote-input").on("input",function(){let t=$(this).data("index");e.getSettingComponent().find(".swiper-slide").eq(t).find(".blockquote p, .slide-quote").text(this.value)}),n.find(".slide-author-input").on("input",function(){let t=$(this).data("index"),n=e.getSettingComponent().find(".swiper-slide").eq(t),o=n.find("cite").text();n.find(".blockquote-footer").html(this.value+", <cite>"+o+"</cite>")}),n.find(".slide-title-input").on("input",function(){let t=$(this).data("index");e.getSettingComponent().find(".swiper-slide").eq(t).find("cite").text(this.value)}),n.find(".btn-remove-slide").on("click",function(){let n=$(this).data("index"),i=e.getSettingComponent().find(".swiper-slide");i.length>1&&(i.eq(n).remove(),o.initSwiper(e.getSettingComponent()),o.refreshSlidesEditor(t,e))})},showSettingForm:function(t,e,n){let o=e.find(".swiper"),i=o.attr("data-delay")||"5000";t.find(".carousel-delay").val(i),t.find(".carousel-pagination").prop("checked",e.find(".swiper-pagination").is(":visible")),t.find(".carousel-navigation").prop("checked",e.find(".swiper-button-next").is(":visible")),t.find(".carousel-css-class").val(o.attr("data-custom-class")||""),this.refreshSlidesEditor(t,n)}}});
//# sourceMappingURL=keditor.umd.js.map
